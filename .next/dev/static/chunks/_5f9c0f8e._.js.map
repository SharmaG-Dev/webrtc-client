{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/user/webrtc-client/hooks/useDeviceInfo.ts"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\n\r\nexport interface RegisterDevice {\r\n  name: string\r\n  deviceType: 'Mobile' | 'Web' | 'PC'\r\n  deviceIp: string\r\n  deviceModel?: string\r\n}\r\n\r\n\r\nexport interface DeviceData {\r\n    deviceInfo: RegisterDevice;\r\n    pairedDevices: string[];\r\n    active: boolean;\r\n}\r\n\r\n\r\nexport function useDeviceInfo() {\r\n  const [deviceInfo, setDeviceInfo] = useState<RegisterDevice | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  const getDeviceType = (): 'Mobile' | 'Web' | 'PC' => {\r\n    const ua = navigator.userAgent\r\n    if (/mobile/i.test(ua)) return 'Mobile'\r\n    if (/windows|macintosh|linux/i.test(ua)) return 'PC'\r\n    return 'Web'\r\n  }\r\n\r\n  const getDeviceIp = async (): Promise<string> => {\r\n    try {\r\n      const res = await fetch('https://api.ipify.org?format=json')\r\n      const data = await res.json()\r\n      return data.ip\r\n    } catch {\r\n      return 'Unknown'\r\n    }\r\n  }\r\n\r\n  const getDeviceModel = (): string => {\r\n    const ua = navigator.userAgent\r\n    if (/iPhone/i.test(ua)) return 'iPhone'\r\n    if (/iPad/i.test(ua)) return 'iPad'\r\n    if (/Android/i.test(ua)) {\r\n      const match = ua.match(/Android.*?;\\s*(.*?)\\s*(Build|\\))/)\r\n      return match ? match[1] : 'Android Device'\r\n    }\r\n    if (/Mac/i.test(ua)) return 'Mac'\r\n    if (/Windows/i.test(ua)) return 'Windows PC'\r\n    return 'Unknown'\r\n  }\r\n\r\n  const collectDeviceInfo = async (): Promise<RegisterDevice> => {\r\n    const name = navigator.userAgent\r\n    const deviceType = getDeviceType()\r\n    const deviceModel = getDeviceModel()\r\n    const deviceIp = await getDeviceIp()\r\n    return { name, deviceType, deviceIp, deviceModel }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const fetchDeviceInfo = async () => {\r\n      const info = await collectDeviceInfo()\r\n      setDeviceInfo(info)\r\n      setLoading(false)\r\n    }\r\n\r\n    fetchDeviceInfo()\r\n  }, [])\r\n\r\n  return { deviceInfo, loading }\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;;AAFA;;AAmBO,SAAS;;IACd,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAwB;IACpE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,yKAAQ,EAAC;IAEvC,MAAM,gBAAgB;QACpB,MAAM,KAAK,UAAU,SAAS;QAC9B,IAAI,UAAU,IAAI,CAAC,KAAK,OAAO;QAC/B,IAAI,2BAA2B,IAAI,CAAC,KAAK,OAAO;QAChD,OAAO;IACT;IAEA,MAAM,cAAc;QAClB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM;YACxB,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,OAAO,KAAK,EAAE;QAChB,EAAE,OAAM;YACN,OAAO;QACT;IACF;IAEA,MAAM,iBAAiB;QACrB,MAAM,KAAK,UAAU,SAAS;QAC9B,IAAI,UAAU,IAAI,CAAC,KAAK,OAAO;QAC/B,IAAI,QAAQ,IAAI,CAAC,KAAK,OAAO;QAC7B,IAAI,WAAW,IAAI,CAAC,KAAK;YACvB,MAAM,QAAQ,GAAG,KAAK,CAAC;YACvB,OAAO,QAAQ,KAAK,CAAC,EAAE,GAAG;QAC5B;QACA,IAAI,OAAO,IAAI,CAAC,KAAK,OAAO;QAC5B,IAAI,WAAW,IAAI,CAAC,KAAK,OAAO;QAChC,OAAO;IACT;IAEA,MAAM,oBAAoB;QACxB,MAAM,OAAO,UAAU,SAAS;QAChC,MAAM,aAAa;QACnB,MAAM,cAAc;QACpB,MAAM,WAAW,MAAM;QACvB,OAAO;YAAE;YAAM;YAAY;YAAU;QAAY;IACnD;IAEA,IAAA,0KAAS;mCAAC;YACR,MAAM;2DAAkB;oBACtB,MAAM,OAAO,MAAM;oBACnB,cAAc;oBACd,WAAW;gBACb;;YAEA;QACF;kCAAG,EAAE;IAEL,OAAO;QAAE;QAAY;IAAQ;AAC/B;GArDgB","debugId":null}},
    {"offset": {"line": 80, "column": 0}, "map": {"version":3,"sources":["file:///home/user/webrtc-client/components/header.tsx"],"sourcesContent":["'use client'\n\nimport { Plug, Unplug, ChevronDown, Menu } from \"lucide-react\"\nimport { useState } from \"react\"\n\ninterface HeaderProps {\n  isSocketConnected: boolean\n  onToggleConnection: () => void\n  deviceInfo: any\n}\n\nexport default function Header({ isSocketConnected, onToggleConnection, deviceInfo }: HeaderProps) {\n  const [showDeviceInfo, setShowDeviceInfo] = useState(false)\n\n  return (\n    <header className=\"bg-white border-b border-gray-200 shadow-sm sticky top-0 z-40\">\n      <div className=\"px-3 sm:px-4 md:px-6 py-3 md:py-4\">\n        <div className=\"flex items-center justify-between gap-2\">\n          {/* Logo/Title - Responsive sizing */}\n          <div className=\"flex-1 min-w-0\">\n            <h1 className=\"text-base sm:text-xl md:text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent truncate\">\n              WebRTC Chat\n            </h1>\n            <p className=\"text-xs md:text-sm text-gray-500 mt-0.5 md:mt-1 hidden sm:block truncate\">\n              Real-time peer-to-peer communication\n            </p>\n          </div>\n\n          {/* Actions - Responsive layout */}\n          <div className=\"flex items-center gap-2 sm:gap-3 md:gap-4\">\n            {/* Device Info Dropdown - Hidden on mobile */}\n            <div className=\"relative hidden lg:block\">\n              <button\n                onClick={() => setShowDeviceInfo(!showDeviceInfo)}\n                className=\"flex items-center space-x-2 px-3 md:px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors\"\n              >\n                <span className=\"hidden xl:inline\">My Device</span>\n                <Menu className=\"w-4 h-4 xl:hidden\" />\n                <ChevronDown className={`w-4 h-4 hidden xl:block transition-transform ${showDeviceInfo ? 'rotate-180' : ''}`} />\n              </button>\n\n              {showDeviceInfo && (\n                <>\n                  {/* Backdrop */}\n                  <div \n                    className=\"fixed inset-0 z-40\" \n                    onClick={() => setShowDeviceInfo(false)}\n                  />\n                  {/* Dropdown */}\n                  <div className=\"absolute right-0 mt-2 w-80 xl:w-96 bg-white rounded-lg shadow-xl border border-gray-200 p-4 z-50\">\n                    <h3 className=\"font-semibold text-gray-800 mb-2\">Device Information</h3>\n                    <pre className=\"bg-gray-50 p-3 rounded text-xs overflow-x-auto max-h-96 overflow-y-auto\">\n                      {JSON.stringify(deviceInfo, null, 2)}\n                    </pre>\n                  </div>\n                </>\n              )}\n            </div>\n\n            {/* Connection Toggle Button - Responsive */}\n            <button\n              onClick={onToggleConnection}\n              className={`px-3 sm:px-4 md:px-6 py-2 md:py-2.5 rounded-lg font-medium transition-all duration-200 transform hover:scale-105 active:scale-95 shadow-md flex items-center gap-1.5 md:gap-2 text-xs sm:text-sm ${\n                isSocketConnected\n                  ? 'bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white'\n                  : 'bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white'\n              }`}\n            >\n              {isSocketConnected ? (\n                <>\n                  <Unplug className=\"w-3.5 h-3.5 sm:w-4 sm:h-4 md:w-5 md:h-5\" />\n                  <span className=\"hidden sm:inline\">Disconnect</span>\n                </>\n              ) : (\n                <>\n                  <Plug className=\"w-3.5 h-3.5 sm:w-4 sm:h-4 md:w-5 md:h-5\" />\n                  <span className=\"hidden sm:inline\">Connect</span>\n                </>\n              )}\n            </button>\n          </div>\n        </div>\n      </div>\n    </header>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAAA;AACA;;;AAHA;;;AAWe,SAAS,OAAO,EAAE,iBAAiB,EAAE,kBAAkB,EAAE,UAAU,EAAe;;IAC/F,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,IAAA,yKAAQ,EAAC;IAErD,qBACE,6LAAC;QAAO,WAAU;kBAChB,cAAA,6LAAC;YAAI,WAAU;sBACb,cAAA,6LAAC;gBAAI,WAAU;;kCAEb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAG,WAAU;0CAAiI;;;;;;0CAG/I,6LAAC;gCAAE,WAAU;0CAA2E;;;;;;;;;;;;kCAM1F,6LAAC;wBAAI,WAAU;;0CAEb,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCACC,SAAS,IAAM,kBAAkB,CAAC;wCAClC,WAAU;;0DAEV,6LAAC;gDAAK,WAAU;0DAAmB;;;;;;0DACnC,6LAAC,6MAAI;gDAAC,WAAU;;;;;;0DAChB,6LAAC,sOAAW;gDAAC,WAAW,CAAC,6CAA6C,EAAE,iBAAiB,eAAe,IAAI;;;;;;;;;;;;oCAG7G,gCACC;;0DAEE,6LAAC;gDACC,WAAU;gDACV,SAAS,IAAM,kBAAkB;;;;;;0DAGnC,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;wDAAG,WAAU;kEAAmC;;;;;;kEACjD,6LAAC;wDAAI,WAAU;kEACZ,KAAK,SAAS,CAAC,YAAY,MAAM;;;;;;;;;;;;;;;;;;;;0CAQ5C,6LAAC;gCACC,SAAS;gCACT,WAAW,CAAC,iMAAiM,EAC3M,oBACI,4FACA,mGACJ;0CAED,kCACC;;sDACE,6LAAC,mNAAM;4CAAC,WAAU;;;;;;sDAClB,6LAAC;4CAAK,WAAU;sDAAmB;;;;;;;iEAGrC;;sDACE,6LAAC,6MAAI;4CAAC,WAAU;;;;;;sDAChB,6LAAC;4CAAK,WAAU;sDAAmB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AASrD;GA1EwB;KAAA","debugId":null}},
    {"offset": {"line": 290, "column": 0}, "map": {"version":3,"sources":["file:///home/user/webrtc-client/components/connectionStatus.tsx"],"sourcesContent":["'use client'\n\nimport {  Loader2 } from \"lucide-react\"\n\ninterface ConnectionStatusProps {\n  isSocketConnected: boolean\n  deviceConnected: boolean | null\n  connectedDevicesCount: number\n  isRegistering: boolean\n  onClearData: () => void\n  hasDevices: boolean\n}\n\nexport default function ConnectionStatus({\n  isSocketConnected,\n  deviceConnected,\n  connectedDevicesCount,\n  isRegistering,\n  onClearData,\n  hasDevices\n}: ConnectionStatusProps) {\n  return (\n    <div className=\"bg-white border-b border-gray-200 px-3 sm:px-4 md:px-6 py-2 md:py-3\">\n      <div className=\"flex items-center justify-between gap-3\">\n        {/* Status Indicators - Scrollable on very small screens */}\n        <div className=\"flex items-center gap-3 sm:gap-4 md:gap-6 overflow-x-auto scrollbar-hide flex-1 min-w-0\">\n          {/* Socket Status */}\n          <div className=\"flex items-center gap-1.5 sm:gap-2 flex-shrink-0\">\n            <div className={`w-2 h-2 rounded-full ${isSocketConnected ? 'bg-green-500 animate-pulse' : 'bg-red-500'}`} />\n            <span className=\"text-xs text-gray-600 hidden sm:inline\">Socket:</span>\n            <span className={`text-xs sm:text-sm font-medium ${isSocketConnected ? 'text-green-600' : 'text-red-600'}`}>\n              <span className=\"sm:hidden\">{isSocketConnected ? '✓' : '✗'}</span>\n              <span className=\"hidden sm:inline\">{isSocketConnected ? 'Connected' : 'Disconnected'}</span>\n            </span>\n          </div>\n\n          {/* Device Status */}\n          <div className=\"flex items-center gap-1.5 sm:gap-2 flex-shrink-0\">\n            <div className={`w-2 h-2 rounded-full ${\n              deviceConnected === null ? 'bg-yellow-500' : deviceConnected ? 'bg-green-500 animate-pulse' : 'bg-red-500'\n            }`} />\n            <span className=\"text-xs text-gray-600 hidden sm:inline\">Device:</span>\n            <span className={`text-xs sm:text-sm font-medium ${\n              deviceConnected === null ? 'text-yellow-600' : deviceConnected ? 'text-green-600' : 'text-red-600'\n            }`}>\n              <span className=\"sm:hidden\">\n                {deviceConnected === null ? '...' : deviceConnected ? '✓' : '✗'}\n              </span>\n              <span className=\"hidden sm:inline\">\n                {deviceConnected === null ? 'Checking...' : deviceConnected ? 'Registered' : 'Not Registered'}\n              </span>\n            </span>\n          </div>\n\n          {/* WebRTC Connections */}\n          <div className=\"flex items-center gap-1.5 sm:gap-2 flex-shrink-0\">\n            <div className={`w-2 h-2 rounded-full ${connectedDevicesCount > 0 ? 'bg-blue-500 animate-pulse' : 'bg-gray-300'}`} />\n            <span className=\"text-xs text-gray-600 hidden md:inline\">Chats:</span>\n            <span className=\"text-xs sm:text-sm font-medium text-blue-600\">{connectedDevicesCount}</span>\n          </div>\n        </div>\n\n        {/* Actions */}\n        <div className=\"flex items-center gap-2 md:gap-3 flex-shrink-0\">\n          {isRegistering && (\n            <div className=\"flex items-center gap-1.5 sm:gap-2 text-blue-600\">\n              <Loader2 className=\"h-3 w-3 sm:h-4 sm:w-4 animate-spin\" />\n              <span className=\"text-xs sm:text-sm hidden md:inline\">Registering...</span>\n            </div>\n          )}\n\n          {hasDevices && (\n            <button\n              onClick={onClearData}\n              className=\"text-xs sm:text-sm text-red-600 hover:text-red-800 font-medium px-2 md:px-3 py-1 rounded hover:bg-red-50 transition-colors\"\n            >\n              Clear\n            </button>\n          )}\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAFA;;;AAae,SAAS,iBAAiB,EACvC,iBAAiB,EACjB,eAAe,EACf,qBAAqB,EACrB,aAAa,EACb,WAAW,EACX,UAAU,EACY;IACtB,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BAEb,6LAAC;oBAAI,WAAU;;sCAEb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAW,CAAC,qBAAqB,EAAE,oBAAoB,+BAA+B,cAAc;;;;;;8CACzG,6LAAC;oCAAK,WAAU;8CAAyC;;;;;;8CACzD,6LAAC;oCAAK,WAAW,CAAC,+BAA+B,EAAE,oBAAoB,mBAAmB,gBAAgB;;sDACxG,6LAAC;4CAAK,WAAU;sDAAa,oBAAoB,MAAM;;;;;;sDACvD,6LAAC;4CAAK,WAAU;sDAAoB,oBAAoB,cAAc;;;;;;;;;;;;;;;;;;sCAK1E,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAW,CAAC,qBAAqB,EACpC,oBAAoB,OAAO,kBAAkB,kBAAkB,+BAA+B,cAC9F;;;;;;8CACF,6LAAC;oCAAK,WAAU;8CAAyC;;;;;;8CACzD,6LAAC;oCAAK,WAAW,CAAC,+BAA+B,EAC/C,oBAAoB,OAAO,oBAAoB,kBAAkB,mBAAmB,gBACpF;;sDACA,6LAAC;4CAAK,WAAU;sDACb,oBAAoB,OAAO,QAAQ,kBAAkB,MAAM;;;;;;sDAE9D,6LAAC;4CAAK,WAAU;sDACb,oBAAoB,OAAO,gBAAgB,kBAAkB,eAAe;;;;;;;;;;;;;;;;;;sCAMnF,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAI,WAAW,CAAC,qBAAqB,EAAE,wBAAwB,IAAI,8BAA8B,eAAe;;;;;;8CACjH,6LAAC;oCAAK,WAAU;8CAAyC;;;;;;8CACzD,6LAAC;oCAAK,WAAU;8CAAgD;;;;;;;;;;;;;;;;;;8BAKpE,6LAAC;oBAAI,WAAU;;wBACZ,+BACC,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,+NAAO;oCAAC,WAAU;;;;;;8CACnB,6LAAC;oCAAK,WAAU;8CAAsC;;;;;;;;;;;;wBAIzD,4BACC,6LAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;;;;;;;;;;;;;;;;;;AAQb;KAtEwB","debugId":null}},
    {"offset": {"line": 508, "column": 0}, "map": {"version":3,"sources":["file:///home/user/webrtc-client/components/notificationBar.tsx"],"sourcesContent":["'use client'\n\nimport { CheckCircle2, AlertCircle, XCircle } from \"lucide-react\"\n\ninterface Message {\n  message: string\n  messageType: 'success' | 'error'\n}\n\ninterface NotificationBarProps {\n  messages: Message[]\n  onRemoveMessage: (msg: Message) => void\n}\n\nexport default function NotificationBar({ messages, onRemoveMessage }: NotificationBarProps) {\n  if (messages.length === 0) return null\n\n  return (\n    <div className=\"px-3 sm:px-4 md:px-6 py-2 space-y-2\">\n      {messages.map((msg, idx) => (\n        <div\n          key={idx}\n          className={`rounded-lg p-3 flex items-center justify-between shadow-sm ${\n            msg.messageType === 'success'\n              ? 'bg-green-50 border border-green-200'\n              : 'bg-red-50 border border-red-200'\n          }`}\n        >\n          <div className=\"flex items-center gap-2 sm:gap-3 flex-1 min-w-0\">\n            {msg.messageType === 'success' ? (\n              <CheckCircle2 className=\"w-4 h-4 sm:w-5 sm:h-5 text-green-600 flex-shrink-0\" />\n            ) : (\n              <AlertCircle className=\"w-4 h-4 sm:w-5 sm:h-5 text-red-600 flex-shrink-0\" />\n            )}\n            <span\n              className={`text-xs sm:text-sm font-medium truncate ${\n                msg.messageType === 'success' ? 'text-green-700' : 'text-red-700'\n              }`}\n            >\n              {msg.message}\n            </span>\n          </div>\n          <button\n            onClick={() => onRemoveMessage(msg)}\n            className=\"text-gray-400 hover:text-gray-600 flex-shrink-0 ml-2\"\n          >\n            <XCircle className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n          </button>\n        </div>\n      ))}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAFA;;;AAce,SAAS,gBAAgB,EAAE,QAAQ,EAAE,eAAe,EAAwB;IACzF,IAAI,SAAS,MAAM,KAAK,GAAG,OAAO;IAElC,qBACE,6LAAC;QAAI,WAAU;kBACZ,SAAS,GAAG,CAAC,CAAC,KAAK,oBAClB,6LAAC;gBAEC,WAAW,CAAC,2DAA2D,EACrE,IAAI,WAAW,KAAK,YAChB,wCACA,mCACJ;;kCAEF,6LAAC;wBAAI,WAAU;;4BACZ,IAAI,WAAW,KAAK,0BACnB,6LAAC,wOAAY;gCAAC,WAAU;;;;;qDAExB,6LAAC,sOAAW;gCAAC,WAAU;;;;;;0CAEzB,6LAAC;gCACC,WAAW,CAAC,wCAAwC,EAClD,IAAI,WAAW,KAAK,YAAY,mBAAmB,gBACnD;0CAED,IAAI,OAAO;;;;;;;;;;;;kCAGhB,6LAAC;wBACC,SAAS,IAAM,gBAAgB;wBAC/B,WAAU;kCAEV,cAAA,6LAAC,0NAAO;4BAAC,WAAU;;;;;;;;;;;;eAzBhB;;;;;;;;;;AA+Bf;KAtCwB","debugId":null}},
    {"offset": {"line": 593, "column": 0}, "map": {"version":3,"sources":["file:///home/user/webrtc-client/components/deviceCard.tsx"],"sourcesContent":["'use client'\n\nimport { DeviceData } from \"@/hooks/useDeviceInfo\"\nimport { Smartphone, Monitor, Globe2, Wifi, CheckCircle2, Circle } from \"lucide-react\"\n\ninterface DeviceCardProps {\n  device: DeviceData\n  isConnected: boolean\n  isSelected: boolean\n  onSelect: () => void\n  onConnect: () => void\n  onDisconnect: () => void\n}\n\nexport default function DeviceCard({\n  device,\n  isConnected,\n  isSelected,\n  onSelect,\n  onConnect,\n  onDisconnect\n}: DeviceCardProps) {\n  const getDeviceIcon = () => {\n    switch (device.deviceInfo.deviceType) {\n      case 'Mobile':\n        return <Smartphone className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n      case 'PC':\n        return <Monitor className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n      case 'Web':\n        return <Globe2 className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n      default:\n        return <Smartphone className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n    }\n  }\n\n  return (\n    <div\n      className={`p-3 sm:p-4 cursor-pointer transition-colors ${\n        isSelected ? 'bg-blue-50 border-l-4 border-blue-500' : 'hover:bg-gray-50 active:bg-gray-100'\n      }`}\n      onClick={onSelect}\n    >\n      <div className=\"flex items-start justify-between mb-2 sm:mb-3\">\n        <div className=\"flex items-center gap-2 sm:gap-3 flex-1 min-w-0\">\n          <div className={`p-1.5 sm:p-2 rounded-lg flex-shrink-0 ${\n            isConnected ? 'bg-green-100 text-green-600' : 'bg-gray-100 text-gray-600'\n          }`}>\n            {getDeviceIcon()}\n          </div>\n          <div className=\"flex-1 min-w-0\">\n            <h3 className=\"text-xs sm:text-sm font-semibold text-gray-800 truncate\">\n              {device.deviceInfo.name || 'Unknown Device'}\n            </h3>\n            <p className=\"text-xs text-gray-500 truncate\">{device.deviceInfo.deviceType || 'Unknown Type'}</p>\n          </div>\n        </div>\n        {isConnected ? (\n          <CheckCircle2 className=\"w-4 h-4 sm:w-5 sm:h-5 text-green-500 flex-shrink-0\" />\n        ) : (\n          <Circle className=\"w-4 h-4 sm:w-5 sm:h-5 text-gray-300 flex-shrink-0\" />\n        )}\n      </div>\n\n      <div className=\"space-y-1 mb-2 sm:mb-3\">\n        <div className=\"flex items-center gap-2 text-xs\">\n          <Wifi className=\"w-3 h-3 text-gray-400 flex-shrink-0\" />\n          <span className=\"text-gray-600 font-mono truncate\">{device.deviceInfo.deviceIp || 'N/A'}</span>\n        </div>\n        <div className=\"text-xs text-gray-500 truncate pl-5\">\n          {device.deviceInfo.deviceModel || 'Unknown Model'}\n        </div>\n      </div>\n\n      <button\n        onClick={(e) => {\n          e.stopPropagation()\n          isConnected ? onDisconnect() : onConnect()\n        }}\n        className={`w-full py-1.5 sm:py-2 px-3 rounded-lg text-xs font-medium transition-all active:scale-95 ${\n          isConnected\n            ? 'bg-red-100 text-red-700 hover:bg-red-200'\n            : 'bg-blue-100 text-blue-700 hover:bg-blue-200'\n        }`}\n      >\n        {isConnected ? 'Disconnect' : 'Connect'}\n      </button>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;;;AAce,SAAS,WAAW,EACjC,MAAM,EACN,WAAW,EACX,UAAU,EACV,QAAQ,EACR,SAAS,EACT,YAAY,EACI;IAChB,MAAM,gBAAgB;QACpB,OAAQ,OAAO,UAAU,CAAC,UAAU;YAClC,KAAK;gBACH,qBAAO,6LAAC,+NAAU;oBAAC,WAAU;;;;;;YAC/B,KAAK;gBACH,qBAAO,6LAAC,sNAAO;oBAAC,WAAU;;;;;;YAC5B,KAAK;gBACH,qBAAO,6LAAC,kNAAM;oBAAC,WAAU;;;;;;YAC3B;gBACE,qBAAO,6LAAC,+NAAU;oBAAC,WAAU;;;;;;QACjC;IACF;IAEA,qBACE,6LAAC;QACC,WAAW,CAAC,4CAA4C,EACtD,aAAa,0CAA0C,uCACvD;QACF,SAAS;;0BAET,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;gCAAI,WAAW,CAAC,sCAAsC,EACrD,cAAc,gCAAgC,6BAC9C;0CACC;;;;;;0CAEH,6LAAC;gCAAI,WAAU;;kDACb,6LAAC;wCAAG,WAAU;kDACX,OAAO,UAAU,CAAC,IAAI,IAAI;;;;;;kDAE7B,6LAAC;wCAAE,WAAU;kDAAkC,OAAO,UAAU,CAAC,UAAU,IAAI;;;;;;;;;;;;;;;;;;oBAGlF,4BACC,6LAAC,wOAAY;wBAAC,WAAU;;;;;6CAExB,6LAAC,mNAAM;wBAAC,WAAU;;;;;;;;;;;;0BAItB,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,6MAAI;gCAAC,WAAU;;;;;;0CAChB,6LAAC;gCAAK,WAAU;0CAAoC,OAAO,UAAU,CAAC,QAAQ,IAAI;;;;;;;;;;;;kCAEpF,6LAAC;wBAAI,WAAU;kCACZ,OAAO,UAAU,CAAC,WAAW,IAAI;;;;;;;;;;;;0BAItC,6LAAC;gBACC,SAAS,CAAC;oBACR,EAAE,eAAe;oBACjB,cAAc,iBAAiB;gBACjC;gBACA,WAAW,CAAC,yFAAyF,EACnG,cACI,6CACA,+CACJ;0BAED,cAAc,eAAe;;;;;;;;;;;;AAItC;KA1EwB","debugId":null}},
    {"offset": {"line": 782, "column": 0}, "map": {"version":3,"sources":["file:///home/user/webrtc-client/components/deviceList.tsx"],"sourcesContent":["'use client'\n\nimport { DeviceData } from \"@/hooks/useDeviceInfo\"\nimport { Smartphone, Search } from \"lucide-react\"\nimport { useState } from \"react\"\nimport DeviceCard from \"./deviceCard\"\n\ninterface DeviceListProps {\n  devices: DeviceData[]\n  connectedDevices: Set<string>\n  selectedDevice: DeviceData | null\n  onSelectDevice: (device: DeviceData) => void\n  onConnectDevice: (device: DeviceData) => void\n  onDisconnectDevice: (device: DeviceData) => void\n  isSocketConnected: boolean\n  isRegistering: boolean\n}\n\nexport default function DeviceList({\n  devices,\n  connectedDevices,\n  selectedDevice,\n  onSelectDevice,\n  onConnectDevice,\n  onDisconnectDevice,\n  isSocketConnected,\n  isRegistering\n}: DeviceListProps) {\n  const [searchQuery, setSearchQuery] = useState('')\n\n  const filteredDevices = devices.filter(device =>\n    device.deviceInfo.name?.toLowerCase().includes(searchQuery.toLowerCase()) ||\n    device.deviceInfo.deviceIp?.toLowerCase().includes(searchQuery.toLowerCase())\n  )\n\n  return (\n    <div className=\"w-full h-full bg-white flex flex-col overflow-hidden\">\n      {/* Search Bar - Fixed at top */}\n      <div className=\"flex-shrink-0 p-3 sm:p-4 border-b border-gray-200\">\n        <div className=\"relative\">\n          <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\n          <input\n            type=\"text\"\n            placeholder=\"Search devices...\"\n            value={searchQuery}\n            onChange={(e) => setSearchQuery(e.target.value)}\n            className=\"w-full pl-9 sm:pl-10 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n          />\n        </div>\n      </div>\n\n      {/* Device Count - Fixed */}\n      <div className=\"flex-shrink-0 px-3 sm:px-4 py-2 sm:py-3 bg-gray-50 border-b border-gray-200\">\n        <p className=\"text-xs sm:text-sm font-medium text-gray-700\">\n          {filteredDevices.length} Device{filteredDevices.length !== 1 ? 's' : ''} Available\n        </p>\n      </div>\n\n      {/* Device List - Scrollable */}\n      <div className=\"flex-1 overflow-y-auto overscroll-contain min-h-0\">\n        {filteredDevices.length > 0 ? (\n          <div className=\"divide-y divide-gray-200\">\n            {filteredDevices.map((device, index) => (\n              <DeviceCard\n                key={index}\n                device={device}\n                isConnected={connectedDevices.has(device.deviceInfo.deviceIp)}\n                isSelected={selectedDevice?.deviceInfo.deviceIp === device.deviceInfo.deviceIp}\n                onSelect={() => onSelectDevice(device)}\n                onConnect={() => onConnectDevice(device)}\n                onDisconnect={() => onDisconnectDevice(device)}\n              />\n            ))}\n          </div>\n        ) : isSocketConnected && !isRegistering ? (\n          <div className=\"flex flex-col items-center justify-center h-full p-4 sm:p-6 text-center\">\n            <Smartphone className=\"w-10 h-10 sm:w-12 sm:h-12 text-gray-300 mb-3\" />\n            <h3 className=\"text-sm font-semibold text-gray-700 mb-1\">No Devices Found</h3>\n            <p className=\"text-xs text-gray-500\">\n              {searchQuery ? 'No devices match your search' : 'Waiting for devices to connect...'}\n            </p>\n          </div>\n        ) : (\n          <div className=\"flex flex-col items-center justify-center h-full p-4 sm:p-6 text-center\">\n            <Smartphone className=\"w-10 h-10 sm:w-12 sm:h-12 text-gray-300 mb-3\" />\n            <p className=\"text-xs sm:text-sm text-gray-500\">Connect to socket to see devices</p>\n          </div>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AACA;AACA;;;AALA;;;;AAkBe,SAAS,WAAW,EACjC,OAAO,EACP,gBAAgB,EAChB,cAAc,EACd,cAAc,EACd,eAAe,EACf,kBAAkB,EAClB,iBAAiB,EACjB,aAAa,EACG;;IAChB,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,yKAAQ,EAAC;IAE/C,MAAM,kBAAkB,QAAQ,MAAM,CAAC,CAAA,SACrC,OAAO,UAAU,CAAC,IAAI,EAAE,cAAc,SAAS,YAAY,WAAW,OACtE,OAAO,UAAU,CAAC,QAAQ,EAAE,cAAc,SAAS,YAAY,WAAW;IAG5E,qBACE,6LAAC;QAAI,WAAU;;0BAEb,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,mNAAM;4BAAC,WAAU;;;;;;sCAClB,6LAAC;4BACC,MAAK;4BACL,aAAY;4BACZ,OAAO;4BACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;4BAC9C,WAAU;;;;;;;;;;;;;;;;;0BAMhB,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAE,WAAU;;wBACV,gBAAgB,MAAM;wBAAC;wBAAQ,gBAAgB,MAAM,KAAK,IAAI,MAAM;wBAAG;;;;;;;;;;;;0BAK5E,6LAAC;gBAAI,WAAU;0BACZ,gBAAgB,MAAM,GAAG,kBACxB,6LAAC;oBAAI,WAAU;8BACZ,gBAAgB,GAAG,CAAC,CAAC,QAAQ,sBAC5B,6LAAC,uIAAU;4BAET,QAAQ;4BACR,aAAa,iBAAiB,GAAG,CAAC,OAAO,UAAU,CAAC,QAAQ;4BAC5D,YAAY,gBAAgB,WAAW,aAAa,OAAO,UAAU,CAAC,QAAQ;4BAC9E,UAAU,IAAM,eAAe;4BAC/B,WAAW,IAAM,gBAAgB;4BACjC,cAAc,IAAM,mBAAmB;2BANlC;;;;;;;;;2BAUT,qBAAqB,CAAC,8BACxB,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,+NAAU;4BAAC,WAAU;;;;;;sCACtB,6LAAC;4BAAG,WAAU;sCAA2C;;;;;;sCACzD,6LAAC;4BAAE,WAAU;sCACV,cAAc,iCAAiC;;;;;;;;;;;yCAIpD,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,+NAAU;4BAAC,WAAU;;;;;;sCACtB,6LAAC;4BAAE,WAAU;sCAAmC;;;;;;;;;;;;;;;;;;;;;;;AAM5D;GAzEwB;KAAA","debugId":null}},
    {"offset": {"line": 956, "column": 0}, "map": {"version":3,"sources":["file:///home/user/webrtc-client/components/messageBubble.tsx"],"sourcesContent":["'use client'\n\ninterface Message {\n  id: string\n  text: string\n  sender: 'me' | 'them'\n  timestamp: Date\n}\n\ninterface MessageBubbleProps {\n  message: Message\n}\n\nexport default function MessageBubble({ message }: MessageBubbleProps) {\n  return (\n    <div className={`flex ${message.sender === 'me' ? 'justify-end' : 'justify-start'}`}>\n      <div\n        className={`max-w-[85%] sm:max-w-[75%] md:max-w-[70%] rounded-2xl px-3 sm:px-4 py-2 sm:py-3 ${\n          message.sender === 'me'\n            ? 'bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-br-sm'\n            : 'bg-white border border-gray-200 text-gray-800 rounded-bl-sm shadow-sm'\n        }`}\n      >\n        <p className=\"text-xs sm:text-sm break-words leading-relaxed\">{message.text}</p>\n        <p\n          className={`text-xs mt-1 sm:mt-1.5 ${\n            message.sender === 'me' ? 'text-white/70 text-right' : 'text-gray-500'\n          }`}\n        >\n          {message.timestamp.toLocaleTimeString([], {\n            hour: '2-digit',\n            minute: '2-digit'\n          })}\n        </p>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAae,SAAS,cAAc,EAAE,OAAO,EAAsB;IACnE,qBACE,6LAAC;QAAI,WAAW,CAAC,KAAK,EAAE,QAAQ,MAAM,KAAK,OAAO,gBAAgB,iBAAiB;kBACjF,cAAA,6LAAC;YACC,WAAW,CAAC,gFAAgF,EAC1F,QAAQ,MAAM,KAAK,OACf,0EACA,yEACJ;;8BAEF,6LAAC;oBAAE,WAAU;8BAAkD,QAAQ,IAAI;;;;;;8BAC3E,6LAAC;oBACC,WAAW,CAAC,uBAAuB,EACjC,QAAQ,MAAM,KAAK,OAAO,6BAA6B,iBACvD;8BAED,QAAQ,SAAS,CAAC,kBAAkB,CAAC,EAAE,EAAE;wBACxC,MAAM;wBACN,QAAQ;oBACV;;;;;;;;;;;;;;;;;AAKV;KAxBwB","debugId":null}},
    {"offset": {"line": 1010, "column": 0}, "map": {"version":3,"sources":["file:///home/user/webrtc-client/components/chatWindow.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useRef } from 'react'\nimport { Send, Smartphone, Monitor, Globe2, MoreVertical, X, ArrowLeft } from 'lucide-react'\nimport MessageBubble from './messageBubble'\n\ninterface Message {\n  id: string\n  text: string\n  sender: 'me' | 'them'\n  timestamp: Date\n}\n\ninterface ChatWindowProps {\n  deviceName: string\n  deviceIp: string\n  deviceType: string\n  dataChannel: RTCDataChannel | null\n  onDisconnect: () => void\n  onBack?: () => void\n}\n\nexport default function ChatWindow({\n  deviceName,\n  deviceIp,\n  deviceType,\n  dataChannel,\n  onDisconnect,\n  onBack\n}: ChatWindowProps) {\n  const [messages, setMessages] = useState<Message[]>([])\n  const [inputMessage, setInputMessage] = useState('')\n  const [showMenu, setShowMenu] = useState(false)\n  const messagesEndRef = useRef<HTMLDivElement>(null)\n  const inputRef = useRef<HTMLInputElement>(null)\n\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' })\n  }, [messages])\n\n  useEffect(() => {\n    if (!dataChannel) return\n\n    const handleMessage = (event: MessageEvent) => {\n      const newMessage: Message = {\n        id: Date.now().toString() + Math.random(),\n        text: event.data,\n        sender: 'them',\n        timestamp: new Date()\n      }\n      setMessages(prev => [...prev, newMessage])\n    }\n\n    dataChannel.addEventListener('message', handleMessage)\n    return () => dataChannel.removeEventListener('message', handleMessage)\n  }, [dataChannel])\n\n  const sendMessage = () => {\n    if (!inputMessage.trim() || !dataChannel || dataChannel.readyState !== 'open') return\n\n    try {\n      dataChannel.send(inputMessage)\n      \n      const newMessage: Message = {\n        id: Date.now().toString() + Math.random(),\n        text: inputMessage,\n        sender: 'me',\n        timestamp: new Date()\n      }\n      \n      setMessages(prev => [...prev, newMessage])\n      setInputMessage('')\n      inputRef.current?.focus()\n    } catch (error) {\n      console.error('Failed to send message:', error)\n    }\n  }\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault()\n      sendMessage()\n    }\n  }\n\n  const getDeviceIcon = () => {\n    const iconClass = \"w-4 h-4 sm:w-5 sm:h-5\"\n    switch (deviceType) {\n      case 'Mobile':\n        return <Smartphone className={iconClass} />\n      case 'PC':\n        return <Monitor className={iconClass} />\n      case 'Web':\n        return <Globe2 className={iconClass} />\n      default:\n        return <Smartphone className={iconClass} />\n    }\n  }\n\n  return (\n    <div className=\"w-full h-full flex flex-col bg-white overflow-hidden\">\n      {/* Chat Header - Fixed at top */}\n      <div className=\"flex-shrink-0 px-3 sm:px-4 md:px-6 py-3 sm:py-4 bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-between gap-2\">\n        <div className=\"flex items-center gap-2 sm:gap-3 flex-1 min-w-0\">\n          {/* Back Button - Mobile only */}\n          {onBack && (\n            <button\n              onClick={onBack}\n              className=\"md:hidden p-1.5 sm:p-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors flex-shrink-0\"\n            >\n              <ArrowLeft className=\"w-4 h-4 sm:w-5 sm:h-5 text-white\" />\n            </button>\n          )}\n          \n          <div className=\"p-1.5 sm:p-2 bg-white/20 rounded-lg text-white flex-shrink-0\">\n            {getDeviceIcon()}\n          </div>\n          <div className=\"flex-1 min-w-0\">\n            <h2 className=\"text-white font-semibold text-sm sm:text-base md:text-lg truncate\">\n              {deviceName}\n            </h2>\n            <p className=\"text-white/80 text-xs sm:text-sm font-mono truncate\">\n              {deviceIp}\n            </p>\n          </div>\n        </div>\n\n        {/* Actions */}\n        <div className=\"relative flex items-center gap-2 flex-shrink-0\">\n          <button\n            onClick={() => setShowMenu(!showMenu)}\n            className=\"p-1.5 sm:p-2 hover:bg-white/20 rounded-lg transition-colors text-white\"\n          >\n            <MoreVertical className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n          </button>\n\n          {/* Dropdown Menu */}\n          {showMenu && (\n            <>\n              <div \n                className=\"fixed inset-0 z-40\" \n                onClick={() => setShowMenu(false)}\n              />\n              <div className=\"absolute right-0 top-full mt-2 w-48 bg-white rounded-lg shadow-xl border border-gray-200 z-50 overflow-hidden\">\n                <button\n                  onClick={() => {\n                    onDisconnect()\n                    setShowMenu(false)\n                  }}\n                  className=\"w-full text-left px-4 py-3 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2\"\n                >\n                  <X className=\"w-4 h-4\" />\n                  <span>Disconnect</span>\n                </button>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n\n      {/* Messages Area - Scrollable, fills available space */}\n      <div className=\"flex-1 overflow-y-auto overscroll-contain bg-gray-50 min-h-0\">\n        <div className=\"p-3 sm:p-4 md:p-6 space-y-3 sm:space-y-4\">\n          {messages.length === 0 ? (\n            <div className=\"flex items-center justify-center min-h-full py-12\">\n              <div className=\"text-center px-4\">\n                <div className=\"w-16 h-16 sm:w-20 sm:h-20 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4\">\n                  {getDeviceIcon()}\n                </div>\n                <h3 className=\"text-base sm:text-lg font-semibold text-gray-700 mb-2\">Start Chatting</h3>\n                <p className=\"text-gray-500 text-xs sm:text-sm\">Send a message to begin the conversation</p>\n              </div>\n            </div>\n          ) : (\n            <>\n              {messages.map((msg) => (\n                <MessageBubble key={msg.id} message={msg} />\n              ))}\n              <div ref={messagesEndRef} />\n            </>\n          )}\n        </div>\n      </div>\n\n      {/* Input Area - Fixed at bottom */}\n      <div className=\"flex-shrink-0 px-3 sm:px-4 md:px-6 py-3 sm:py-4 bg-white border-t border-gray-200 safe-bottom\">\n        <div className=\"flex items-center gap-2 sm:gap-3\">\n          <input\n            ref={inputRef}\n            type=\"text\"\n            value={inputMessage}\n            onChange={(e) => setInputMessage(e.target.value)}\n            onKeyPress={handleKeyPress}\n            placeholder=\"Type your message...\"\n            className=\"flex-1 px-3 sm:px-4 py-2 sm:py-3 text-sm border border-gray-300 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            disabled={!dataChannel || dataChannel.readyState !== 'open'}\n          />\n          <button\n            onClick={sendMessage}\n            disabled={!inputMessage.trim() || !dataChannel || dataChannel.readyState !== 'open'}\n            className=\"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 disabled:from-gray-300 disabled:to-gray-400 text-white p-2 sm:p-3 rounded-lg sm:rounded-xl transition-all duration-200 transform active:scale-95 disabled:transform-none disabled:cursor-not-allowed shadow-lg flex-shrink-0\"\n          >\n            <Send className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n          </button>\n        </div>\n        {(!dataChannel || dataChannel.readyState !== 'open') && (\n          <p className=\"text-xs text-red-500 mt-2\">Connection not ready for messaging</p>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1426, "column": 0}, "map": {"version":3,"sources":["file:///home/user/webrtc-client/hooks/useStore.ts"],"sourcesContent":["import { AppDispatch, RootState } from \"@/store/store\"\nimport { useDispatch, useSelector } from \"react-redux\"\n\n\nexport const useAppDispatch = useDispatch.withTypes<AppDispatch>()\nexport const useAppSelector = useSelector.withTypes<RootState>()"],"names":[],"mappings":";;;;;;AACA;;AAGO,MAAM,iBAAiB,2KAAW,CAAC,SAAS;AAC5C,MAAM,iBAAiB,2KAAW,CAAC,SAAS","debugId":null}},
    {"offset": {"line": 1443, "column": 0}, "map": {"version":3,"sources":["file:///home/user/webrtc-client/app/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useCallback } from \"react\"\nimport { DeviceData, useDeviceInfo } from \"@/hooks/useDeviceInfo\"\nimport { useSocket } from \"@/hooks/useSocket\"\nimport { useWebRTC } from \"@/provider/useWebRTC\"\n\n\nimport { Loader2 } from \"lucide-react\"\nimport Header from \"@/components/header\"\nimport ConnectionStatus from \"@/components/connectionStatus\"\nimport NotificationBar from \"@/components/notificationBar\"\nimport DeviceList from \"@/components/deviceList\"\nimport ChatPanel from \"@/components/chatPanel\"\nimport { useAppDispatch, useAppSelector } from \"@/hooks/useStore\"\nimport { addIncomingConnection, clearDeviceState, removeIncomingConnection, setDeviceConnected, setDevices, setIsRegistering, setSelectedDevice } from \"@/store/slices/state.slice\"\n\nexport default function Home() {\n  const dispatch = useAppDispatch()\n\n \n  const {\n    devices,\n    selectedDevice,\n    deviceConnected,\n    isRegistering,\n    incomingConnections\n  } = useAppSelector((state: any) => state.device)\n\n  const { isConnected: isSocketConnected, connect, disconnect, emit, on } = useSocket()\n  const { deviceInfo, loading } = useDeviceInfo()\n\n  const {\n    connectAndCreateOffer,\n    message,\n    connectedDevices,\n    disconnectDevice,\n    removeMessage,\n    dataChannels\n  } = useWebRTC()\n\n  useEffect(() => {\n    if (!isSocketConnected) return\n\n    const handleIncomingConnection = (data: { fromIp: string, fromName?: string }) => {\n      dispatch(addIncomingConnection({\n        ip: data.fromIp,\n        name: data.fromName || 'Unknown Device'\n      }))\n    }\n\n    on('incoming-connection', handleIncomingConnection)\n  }, [isSocketConnected, on, dispatch])\n\n\n  const incomingDevices = Object.values(incomingConnections).map((info:any) => ({\n    deviceInfo: {\n      deviceIp: info.ip,\n      name: info.name,\n      deviceType: 'Web' as const,\n      deviceModel: 'Unknown'\n    },\n    active: true,\n    pairedDevices: []\n  }))\n\n  const allDevices = [...devices, ...incomingDevices]\n\n  const uniqueDevices = allDevices.reduce((acc, device) => {\n    const existingIndex = acc.findIndex((d:any) => d.deviceInfo.deviceIp === device.deviceInfo.deviceIp)\n    if (existingIndex === -1) {\n      acc.push(device)\n    }\n    return acc\n  }, [] as DeviceData[])\n\n  const checkConnection = useCallback(() => {\n    if (deviceInfo) {\n      emit('check-connected', deviceInfo)\n    }\n  }, [emit, deviceInfo])\n\n  const handleShowDevices = useCallback((data: DeviceData[]) => {\n    dispatch(setDevices(data))\n  }, [dispatch])\n\n  const handleCheckConnected = useCallback((status: boolean) => {\n    dispatch(setDeviceConnected(status))\n\n    if (!status && !isRegistering) {\n      dispatch(setIsRegistering(true))\n      emit(\"connect-device\", deviceInfo)\n      setTimeout(() => {\n        checkConnection()\n        dispatch(setIsRegistering(false))\n      }, 1000)\n    }\n  }, [isRegistering, emit, deviceInfo, checkConnection, dispatch])\n\n  useEffect(() => {\n    if (!isSocketConnected || !deviceInfo) return\n\n    const unsubscribeCheck = on(\"check-connected\", handleCheckConnected)\n    const unsubscribeDevices = on('show-devices', handleShowDevices)\n\n    checkConnection()\n\n    return () => {\n      unsubscribeCheck()\n      unsubscribeDevices()\n    }\n  }, [isSocketConnected, deviceInfo, on, handleCheckConnected, handleShowDevices, checkConnection])\n\n  const handleToggleConnection = useCallback(() => {\n    if (isSocketConnected) {\n      disconnect()\n      dispatch(clearDeviceState())\n      dispatch(setSelectedDevice(null))\n    } else {\n      connect()\n      setTimeout(() => emit('show-devices'), 1000)\n    }\n  }, [isSocketConnected, disconnect, connect, emit, dispatch])\n\n  const handleConnectDevice = useCallback(async (device: DeviceData) => {\n    const deviceIp = device?.deviceInfo?.deviceIp\n    if (!deviceIp) return\n\n    try {\n      await connectAndCreateOffer(deviceIp)\n      dispatch(setSelectedDevice(device))\n    } catch (error) {\n      console.error('❌ Failed to connect:', error)\n    }\n  }, [connectAndCreateOffer, dispatch])\n\n  const handleDisconnectDevice = useCallback((device: DeviceData) => {\n    const deviceIp = device?.deviceInfo?.deviceIp\n    if (!deviceIp) return\n\n    disconnectDevice(deviceIp)\n\n    if (selectedDevice?.deviceInfo?.deviceIp === deviceIp) {\n      dispatch(setSelectedDevice(null))\n    }\n\n    dispatch(removeIncomingConnection(deviceIp))\n  }, [disconnectDevice, selectedDevice, dispatch])\n\n  const handleClearData = () => {\n    emit('clear')\n    dispatch(clearDeviceState())\n  }\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center\">\n        <div className=\"bg-white p-8 rounded-2xl shadow-lg\">\n          <div className=\"flex items-center space-x-3\">\n            <Loader2 className=\"h-8 w-8 text-blue-600 animate-spin\" />\n            <span className=\"text-gray-700 font-medium\">Loading device info...</span>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"h-screen w-screen flex flex-col bg-gray-100 overflow-hidden\">\n      <div className=\"flex-shrink-0\">\n        <Header\n          isSocketConnected={isSocketConnected}\n          onToggleConnection={handleToggleConnection}\n          deviceInfo={deviceInfo}\n        />\n      </div>\n\n      <div className=\"flex-shrink-0\">\n        <ConnectionStatus\n          isSocketConnected={isSocketConnected}\n          deviceConnected={deviceConnected}\n          connectedDevicesCount={connectedDevices.size}\n          isRegistering={isRegistering}\n          onClearData={handleClearData}\n          hasDevices={uniqueDevices.length > 0}\n        />\n      </div>\n\n      {message.length > 0 && (\n        <div className=\"flex-shrink-0 max-h-32 overflow-y-auto\">\n          <NotificationBar messages={message} onRemoveMessage={removeMessage} />\n        </div>\n      )}\n\n      <div className=\"flex-1 flex overflow-hidden min-h-0\">\n        <div className={`${selectedDevice\n          ? 'hidden md:flex md:w-80 lg:w-96'\n          : 'w-full md:w-80 lg:w-96'\n          } flex-shrink-0 border-r border-gray-200 bg-white overflow-hidden`}>\n          <DeviceList\n            devices={uniqueDevices}\n            connectedDevices={connectedDevices}\n            selectedDevice={selectedDevice}\n            onSelectDevice={(device) => dispatch(setSelectedDevice(device))}\n            onConnectDevice={handleConnectDevice}\n            onDisconnectDevice={handleDisconnectDevice}\n            isSocketConnected={isSocketConnected}\n            isRegistering={isRegistering}\n          />\n        </div>\n\n        <div className={`${selectedDevice\n          ? 'flex w-full'\n          : 'hidden md:flex md:flex-1'\n          } overflow-hidden`}>\n          <ChatPanel\n            selectedDevice={selectedDevice}\n            dataChannel={selectedDevice ? dataChannels.get(selectedDevice.deviceInfo.deviceIp) || null : null}\n            onDisconnect={() => selectedDevice && handleDisconnectDevice(selectedDevice)}\n            onBack={() => dispatch(setSelectedDevice(null))}\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}