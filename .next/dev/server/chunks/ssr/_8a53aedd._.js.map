{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/user/webrtc-client/hooks/useDeviceInfo.ts"],"sourcesContent":["'use client'\r\n\r\nimport { useEffect, useState } from 'react'\r\n\r\nexport interface RegisterDevice {\r\n  name: string\r\n  deviceType: 'Mobile' | 'Web' | 'PC'\r\n  deviceIp: string\r\n  deviceModel?: string\r\n}\r\n\r\n\r\nexport interface DeviceData {\r\n    deviceInfo: RegisterDevice;\r\n    pairedDevices: string[];\r\n    active: boolean;\r\n}\r\n\r\n\r\nexport function useDeviceInfo() {\r\n  const [deviceInfo, setDeviceInfo] = useState<RegisterDevice | null>(null)\r\n  const [loading, setLoading] = useState(true)\r\n\r\n  const getDeviceType = (): 'Mobile' | 'Web' | 'PC' => {\r\n    const ua = navigator.userAgent\r\n    if (/mobile/i.test(ua)) return 'Mobile'\r\n    if (/windows|macintosh|linux/i.test(ua)) return 'PC'\r\n    return 'Web'\r\n  }\r\n\r\n  const getDeviceIp = async (): Promise<string> => {\r\n    try {\r\n      const res = await fetch('https://api.ipify.org?format=json')\r\n      const data = await res.json()\r\n      return data.ip\r\n    } catch {\r\n      return 'Unknown'\r\n    }\r\n  }\r\n\r\n  const getDeviceModel = (): string => {\r\n    const ua = navigator.userAgent\r\n    if (/iPhone/i.test(ua)) return 'iPhone'\r\n    if (/iPad/i.test(ua)) return 'iPad'\r\n    if (/Android/i.test(ua)) {\r\n      const match = ua.match(/Android.*?;\\s*(.*?)\\s*(Build|\\))/)\r\n      return match ? match[1] : 'Android Device'\r\n    }\r\n    if (/Mac/i.test(ua)) return 'Mac'\r\n    if (/Windows/i.test(ua)) return 'Windows PC'\r\n    return 'Unknown'\r\n  }\r\n\r\n  const collectDeviceInfo = async (): Promise<RegisterDevice> => {\r\n    const name = navigator.userAgent\r\n    const deviceType = getDeviceType()\r\n    const deviceModel = getDeviceModel()\r\n    const deviceIp = await getDeviceIp()\r\n    return { name, deviceType, deviceIp, deviceModel }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const fetchDeviceInfo = async () => {\r\n      const info = await collectDeviceInfo()\r\n      setDeviceInfo(info)\r\n      setLoading(false)\r\n    }\r\n\r\n    fetchDeviceInfo()\r\n  }, [])\r\n\r\n  return { deviceInfo, loading }\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AAFA;;AAmBO,SAAS;IACd,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,iNAAQ,EAAwB;IACpE,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,MAAM,gBAAgB;QACpB,MAAM,KAAK,UAAU,SAAS;QAC9B,IAAI,UAAU,IAAI,CAAC,KAAK,OAAO;QAC/B,IAAI,2BAA2B,IAAI,CAAC,KAAK,OAAO;QAChD,OAAO;IACT;IAEA,MAAM,cAAc;QAClB,IAAI;YACF,MAAM,MAAM,MAAM,MAAM;YACxB,MAAM,OAAO,MAAM,IAAI,IAAI;YAC3B,OAAO,KAAK,EAAE;QAChB,EAAE,OAAM;YACN,OAAO;QACT;IACF;IAEA,MAAM,iBAAiB;QACrB,MAAM,KAAK,UAAU,SAAS;QAC9B,IAAI,UAAU,IAAI,CAAC,KAAK,OAAO;QAC/B,IAAI,QAAQ,IAAI,CAAC,KAAK,OAAO;QAC7B,IAAI,WAAW,IAAI,CAAC,KAAK;YACvB,MAAM,QAAQ,GAAG,KAAK,CAAC;YACvB,OAAO,QAAQ,KAAK,CAAC,EAAE,GAAG;QAC5B;QACA,IAAI,OAAO,IAAI,CAAC,KAAK,OAAO;QAC5B,IAAI,WAAW,IAAI,CAAC,KAAK,OAAO;QAChC,OAAO;IACT;IAEA,MAAM,oBAAoB;QACxB,MAAM,OAAO,UAAU,SAAS;QAChC,MAAM,aAAa;QACnB,MAAM,cAAc;QACpB,MAAM,WAAW,MAAM;QACvB,OAAO;YAAE;YAAM;YAAY;YAAU;QAAY;IACnD;IAEA,IAAA,kNAAS,EAAC;QACR,MAAM,kBAAkB;YACtB,MAAM,OAAO,MAAM;YACnB,cAAc;YACd,WAAW;QACb;QAEA;IACF,GAAG,EAAE;IAEL,OAAO;QAAE;QAAY;IAAQ;AAC/B","debugId":null}},
    {"offset": {"line": 70, "column": 0}, "map": {"version":3,"sources":["file:///home/user/webrtc-client/hooks/useStore.ts"],"sourcesContent":["import { AppDispatch, RootState } from \"@/store/store\"\nimport { useDispatch, useSelector } from \"react-redux\"\n\n\nexport const useAppDispatch = useDispatch.withTypes<AppDispatch>()\nexport const useAppSelector = useSelector.withTypes<RootState>()"],"names":[],"mappings":";;;;;;AACA;;AAGO,MAAM,iBAAiB,wKAAW,CAAC,SAAS;AAC5C,MAAM,iBAAiB,wKAAW,CAAC,SAAS","debugId":null}},
    {"offset": {"line": 84, "column": 0}, "map": {"version":3,"sources":["file:///home/user/webrtc-client/components/header.tsx"],"sourcesContent":["'use client'\n\nimport { DeviceData, useDeviceInfo } from \"@/hooks/useDeviceInfo\"\nimport { useAppDispatch, useAppSelector } from \"@/hooks/useStore\"\nimport { useSocket } from \"@/provider/useSocket\"\nimport { addIncomingConnection, clearDeviceState, setDeviceConnected, setDevices, setIsRegistering, setSelectedDevice } from \"@/store/slices/state.slice\"\nimport { Plug, Unplug, ChevronDown, Menu } from \"lucide-react\"\nimport { useCallback, useEffect, useState } from \"react\"\n\n\n\nexport default function Header() {\n    const {deviceInfo } = useDeviceInfo()\n    const { deviceConnected ,devices ,incomingConnections ,isRegistering,selectedDevice } = useAppSelector((state) => state.device)\n    const { disconnect, connect, emit , on  , isConnected} = useSocket()\n    const dispatch = useAppDispatch()\n    const handleToggleConnection = useCallback(() => {\n        if (isConnected) {\n            disconnect()\n            dispatch(clearDeviceState())\n            dispatch(setSelectedDevice(null))\n        } else {\n            connect()\n            setTimeout(() => emit('show-devices'), 1000)\n        }\n    }, [isConnected, disconnect, connect, emit, dispatch])\n    const [showDeviceInfo, setShowDeviceInfo] = useState(false)\n\n\n\n     useEffect(() => {\n        if (!isConnected) return\n    \n        const handleIncomingConnection = (data: { fromIp: string, fromName?: string }) => {\n          dispatch(addIncomingConnection({\n            ip: data.fromIp,\n            name: data.fromName || 'Unknown Device'\n          }))\n        }\n    \n        on('incoming-connection', handleIncomingConnection)\n      }, [isConnected, on, dispatch])\n    \n    \n \n    \n      const checkConnection = useCallback(() => {\n        if (deviceInfo) {\n          emit('check-connected', deviceInfo)\n        }\n      }, [emit, deviceInfo])\n    \n      const handleShowDevices = useCallback((data: DeviceData[]) => {\n        dispatch(setDevices(data))\n      }, [dispatch])\n    \n      const handleCheckConnected = useCallback((status: boolean) => {\n        dispatch(setDeviceConnected(status))\n    \n        if (!status && !isRegistering) {\n          dispatch(setIsRegistering(true))\n          emit(\"connect-device\", deviceInfo)\n          setTimeout(() => {\n            checkConnection()\n            dispatch(setIsRegistering(false))\n          }, 1000)\n        }\n      }, [isRegistering, emit, deviceInfo, checkConnection, dispatch])\n    \n      useEffect(() => {\n        if (!isConnected || !deviceInfo) return\n    \n        const unsubscribeCheck = on(\"check-connected\", handleCheckConnected)\n        const unsubscribeDevices = on('show-devices', handleShowDevices)\n    \n        checkConnection()\n    \n        return () => {\n          unsubscribeCheck()\n          unsubscribeDevices()\n        }\n      }, [isConnected, deviceInfo, on, handleCheckConnected, handleShowDevices, checkConnection])\n    \n    \n\n    return (\n        <header className=\"bg-white border-b border-gray-200 shadow-sm sticky top-0 z-40\">\n            <div className=\"px-3 sm:px-4 md:px-6 py-3 md:py-4\">\n                <div className=\"flex items-center justify-between gap-2\">\n                    {/* Logo/Title - Responsive sizing */}\n                    <div className=\"flex-1 min-w-0\">\n                        <h1 className=\"text-base sm:text-xl md:text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent truncate\">\n                            WebRTC Chat\n                        </h1>\n                        <p className=\"text-xs md:text-sm text-gray-500 mt-0.5 md:mt-1 hidden sm:block truncate\">\n                            Real-time peer-to-peer communication\n                        </p>\n                    </div>\n\n                    {/* Actions - Responsive layout */}\n                    <div className=\"flex items-center gap-2 sm:gap-3 md:gap-4\">\n                        {/* Device Info Dropdown - Hidden on mobile */}\n                        <div className=\"relative hidden lg:block\">\n                            <button\n                                onClick={() => setShowDeviceInfo(!showDeviceInfo)}\n                                className=\"flex items-center space-x-2 px-3 md:px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 rounded-lg transition-colors\"\n                            >\n                                <span className=\"hidden xl:inline\">My Device</span>\n                                <Menu className=\"w-4 h-4 xl:hidden\" />\n                                <ChevronDown className={`w-4 h-4 hidden xl:block transition-transform ${showDeviceInfo ? 'rotate-180' : ''}`} />\n                            </button>\n\n                            {showDeviceInfo && (\n                                <>\n                                    {/* Backdrop */}\n                                    <div\n                                        className=\"fixed inset-0 z-40\"\n                                        onClick={() => setShowDeviceInfo(false)}\n                                    />\n                                    {/* Dropdown */}\n                                    <div className=\"absolute right-0 mt-2 w-80 xl:w-96 bg-white rounded-lg shadow-xl border border-gray-200 p-4 z-50\">\n                                        <h3 className=\"font-semibold text-gray-800 mb-2\">Device Information</h3>\n                                        <pre className=\"bg-gray-50 p-3 rounded text-xs overflow-x-auto max-h-96 overflow-y-auto\">\n                                            {JSON.stringify(deviceInfo, null, 2)}\n                                        </pre>\n                                    </div>\n                                </>\n                            )}\n                        </div>\n\n                        {/* Connection Toggle Button - Responsive */}\n                        <button\n                            onClick={handleToggleConnection}\n                            className={`px-3 sm:px-4 md:px-6 py-2 md:py-2.5 rounded-lg font-medium transition-all duration-200 transform hover:scale-105 active:scale-95 shadow-md flex items-center gap-1.5 md:gap-2 text-xs sm:text-sm ${isConnected\n                                ? 'bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white'\n                                : 'bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white'\n                                }`}\n                        >\n                            {isConnected ? (\n                                <>\n                                    <Unplug className=\"w-3.5 h-3.5 sm:w-4 sm:h-4 md:w-5 md:h-5\" />\n                                    <span className=\"hidden sm:inline\">Disconnect</span>\n                                </>\n                            ) : (\n                                <>\n                                    <Plug className=\"w-3.5 h-3.5 sm:w-4 sm:h-4 md:w-5 md:h-5\" />\n                                    <span className=\"hidden sm:inline\">Connect</span>\n                                </>\n                            )}\n                        </button>\n                    </div>\n                </div>\n            </div>\n        </header>\n    )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 374, "column": 0}, "map": {"version":3,"sources":["file:///home/user/webrtc-client/components/connectionStatus.tsx"],"sourcesContent":["'use client'\n\nimport { DeviceData, useDeviceInfo } from \"@/hooks/useDeviceInfo\"\nimport { useAppDispatch, useAppSelector } from \"@/hooks/useStore\"\nimport { useSocket } from \"@/provider/useSocket\"\nimport { useWebRTC } from \"@/provider/useWebRTC\"\nimport { clearDeviceState } from \"@/store/slices/state.slice\"\nimport { Loader2 } from \"lucide-react\"\n\n\n\nexport default function ConnectionStatus() {\n\n    const { deviceInfo } = useDeviceInfo()\n    const { deviceConnected, devices, incomingConnections, isRegistering, selectedDevice } = useAppSelector((state) => state.device)\n    const { disconnect, connect, emit, on, isConnected } = useSocket()\n    const dispatch = useAppDispatch()\n    const { connectedDevices } = useWebRTC()\n    const handleClearData = () => {\n        emit('clear')\n        dispatch(clearDeviceState())\n    }\n\n    const incomingDevices = Object.values(incomingConnections).map((info: any) => ({\n        deviceInfo: {\n          deviceIp: info.ip,\n          name: info.name,\n          deviceType: 'Web' as const,\n          deviceModel: 'Unknown'\n        },\n        active: true,\n        pairedDevices: []\n      }))\n    \n      const allDevices = [...devices, ...incomingDevices]\n    \n      const uniqueDevices = allDevices.reduce((acc, device) => {\n        const existingIndex = acc.findIndex((d: any) => d.deviceInfo.deviceIp === device.deviceInfo.deviceIp)\n        if (existingIndex === -1) {\n          acc.push(device)\n        }\n        return acc\n      }, [] as DeviceData[])\n    return (\n        <div className=\"bg-white border-b border-gray-200 px-3 sm:px-4 md:px-6 py-2 md:py-3\">\n            <div className=\"flex items-center justify-between gap-3\">\n                {/* Status Indicators - Scrollable on very small screens */}\n                <div className=\"flex items-center gap-3 sm:gap-4 md:gap-6 overflow-x-auto scrollbar-hide flex-1 min-w-0\">\n                    {/* Socket Status */}\n                    <div className=\"flex items-center gap-1.5 sm:gap-2 flex-shrink-0\">\n                        <div className={`w-2 h-2 rounded-full ${isConnected ? 'bg-green-500 animate-pulse' : 'bg-red-500'}`} />\n                        <span className=\"text-xs text-gray-600 hidden sm:inline\">Socket:</span>\n                        <span className={`text-xs sm:text-sm font-medium ${isConnected ? 'text-green-600' : 'text-red-600'}`}>\n                            <span className=\"sm:hidden\">{isConnected ? '✓' : '✗'}</span>\n                            <span className=\"hidden sm:inline\">{isConnected ? 'Connected' : 'Disconnected'}</span>\n                        </span>\n                    </div>\n\n                    {/* Device Status */}\n                    <div className=\"flex items-center gap-1.5 sm:gap-2 flex-shrink-0\">\n                        <div className={`w-2 h-2 rounded-full ${deviceConnected === null ? 'bg-yellow-500' : deviceConnected ? 'bg-green-500 animate-pulse' : 'bg-red-500'\n                            }`} />\n                        <span className=\"text-xs text-gray-600 hidden sm:inline\">Device:</span>\n                        <span className={`text-xs sm:text-sm font-medium ${deviceConnected === null ? 'text-yellow-600' : deviceConnected ? 'text-green-600' : 'text-red-600'\n                            }`}>\n                            <span className=\"sm:hidden\">\n                                {deviceConnected === null ? '...' : deviceConnected ? '✓' : '✗'}\n                            </span>\n                            <span className=\"hidden sm:inline\">\n                                {deviceConnected === null ? 'Checking...' : deviceConnected ? 'Registered' : 'Not Registered'}\n                            </span>\n                        </span>\n                    </div>\n\n                    {/* WebRTC Connections */}\n                    <div className=\"flex items-center gap-1.5 sm:gap-2 flex-shrink-0\">\n                        <div className={`w-2 h-2 rounded-full ${connectedDevices.size > 0 ? 'bg-blue-500 animate-pulse' : 'bg-gray-300'}`} />\n                        <span className=\"text-xs text-gray-600 hidden md:inline\">Chats:</span>\n                        <span className=\"text-xs sm:text-sm font-medium text-blue-600\">{connectedDevices.size}</span>\n                    </div>\n                </div>\n\n                {/* Actions */}\n                <div className=\"flex items-center gap-2 md:gap-3 flex-shrink-0\">\n                    {isRegistering && (\n                        <div className=\"flex items-center gap-1.5 sm:gap-2 text-blue-600\">\n                            <Loader2 className=\"h-3 w-3 sm:h-4 sm:w-4 animate-spin\" />\n                            <span className=\"text-xs sm:text-sm hidden md:inline\">Registering...</span>\n                        </div>\n                    )}\n\n                    {uniqueDevices.length > 0 && (\n                        <button\n                            onClick={handleClearData}\n                            className=\"text-xs sm:text-sm text-red-600 hover:text-red-800 font-medium px-2 md:px-3 py-1 rounded hover:bg-red-50 transition-colors\"\n                        >\n                            Clear\n                        </button>\n                    )}\n                </div>\n            </div>\n        </div>\n    )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;;;;;;;;AAWe,SAAS;IAEpB,MAAM,EAAE,UAAU,EAAE,GAAG,IAAA,uIAAa;IACpC,MAAM,EAAE,eAAe,EAAE,OAAO,EAAE,mBAAmB,EAAE,aAAa,EAAE,cAAc,EAAE,GAAG,IAAA,mIAAc,EAAC,CAAC,QAAU,MAAM,MAAM;IAC/H,MAAM,EAAE,UAAU,EAAE,OAAO,EAAE,IAAI,EAAE,EAAE,EAAE,WAAW,EAAE,GAAG,IAAA,mIAAS;IAChE,MAAM,WAAW,IAAA,mIAAc;IAC/B,MAAM,EAAE,gBAAgB,EAAE,GAAG,IAAA,mIAAS;IACtC,MAAM,kBAAkB;QACpB,KAAK;QACL,SAAS,IAAA,qJAAgB;IAC7B;IAEA,MAAM,kBAAkB,OAAO,MAAM,CAAC,qBAAqB,GAAG,CAAC,CAAC,OAAc,CAAC;YAC3E,YAAY;gBACV,UAAU,KAAK,EAAE;gBACjB,MAAM,KAAK,IAAI;gBACf,YAAY;gBACZ,aAAa;YACf;YACA,QAAQ;YACR,eAAe,EAAE;QACnB,CAAC;IAED,MAAM,aAAa;WAAI;WAAY;KAAgB;IAEnD,MAAM,gBAAgB,WAAW,MAAM,CAAC,CAAC,KAAK;QAC5C,MAAM,gBAAgB,IAAI,SAAS,CAAC,CAAC,IAAW,EAAE,UAAU,CAAC,QAAQ,KAAK,OAAO,UAAU,CAAC,QAAQ;QACpG,IAAI,kBAAkB,CAAC,GAAG;YACxB,IAAI,IAAI,CAAC;QACX;QACA,OAAO;IACT,GAAG,EAAE;IACP,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAI,WAAU;;8BAEX,8OAAC;oBAAI,WAAU;;sCAEX,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAI,WAAW,CAAC,qBAAqB,EAAE,cAAc,+BAA+B,cAAc;;;;;;8CACnG,8OAAC;oCAAK,WAAU;8CAAyC;;;;;;8CACzD,8OAAC;oCAAK,WAAW,CAAC,+BAA+B,EAAE,cAAc,mBAAmB,gBAAgB;;sDAChG,8OAAC;4CAAK,WAAU;sDAAa,cAAc,MAAM;;;;;;sDACjD,8OAAC;4CAAK,WAAU;sDAAoB,cAAc,cAAc;;;;;;;;;;;;;;;;;;sCAKxE,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAI,WAAW,CAAC,qBAAqB,EAAE,oBAAoB,OAAO,kBAAkB,kBAAkB,+BAA+B,cAChI;;;;;;8CACN,8OAAC;oCAAK,WAAU;8CAAyC;;;;;;8CACzD,8OAAC;oCAAK,WAAW,CAAC,+BAA+B,EAAE,oBAAoB,OAAO,oBAAoB,kBAAkB,mBAAmB,gBACjI;;sDACF,8OAAC;4CAAK,WAAU;sDACX,oBAAoB,OAAO,QAAQ,kBAAkB,MAAM;;;;;;sDAEhE,8OAAC;4CAAK,WAAU;sDACX,oBAAoB,OAAO,gBAAgB,kBAAkB,eAAe;;;;;;;;;;;;;;;;;;sCAMzF,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAI,WAAW,CAAC,qBAAqB,EAAE,iBAAiB,IAAI,GAAG,IAAI,8BAA8B,eAAe;;;;;;8CACjH,8OAAC;oCAAK,WAAU;8CAAyC;;;;;;8CACzD,8OAAC;oCAAK,WAAU;8CAAgD,iBAAiB,IAAI;;;;;;;;;;;;;;;;;;8BAK7F,8OAAC;oBAAI,WAAU;;wBACV,+BACG,8OAAC;4BAAI,WAAU;;8CACX,8OAAC,4NAAO;oCAAC,WAAU;;;;;;8CACnB,8OAAC;oCAAK,WAAU;8CAAsC;;;;;;;;;;;;wBAI7D,cAAc,MAAM,GAAG,mBACpB,8OAAC;4BACG,SAAS;4BACT,WAAU;sCACb;;;;;;;;;;;;;;;;;;;;;;;AAQzB","debugId":null}},
    {"offset": {"line": 626, "column": 0}, "map": {"version":3,"sources":["file:///home/user/webrtc-client/components/notificationBar.tsx"],"sourcesContent":["'use client'\n\nimport { CheckCircle2, AlertCircle, XCircle } from \"lucide-react\"\n\ninterface Message {\n  message: string\n  messageType: 'success' | 'error'\n}\n\ninterface NotificationBarProps {\n  messages: Message[]\n  onRemoveMessage: (msg: Message) => void\n}\n\nexport default function NotificationBar({ messages, onRemoveMessage }: NotificationBarProps) {\n  if (messages.length === 0) return null\n\n  return (\n    <div className=\"px-3 sm:px-4 md:px-6 py-2 space-y-2\">\n      {messages.map((msg, idx) => (\n        <div\n          key={idx}\n          className={`rounded-lg p-3 flex items-center justify-between shadow-sm ${\n            msg.messageType === 'success'\n              ? 'bg-green-50 border border-green-200'\n              : 'bg-red-50 border border-red-200'\n          }`}\n        >\n          <div className=\"flex items-center gap-2 sm:gap-3 flex-1 min-w-0\">\n            {msg.messageType === 'success' ? (\n              <CheckCircle2 className=\"w-4 h-4 sm:w-5 sm:h-5 text-green-600 flex-shrink-0\" />\n            ) : (\n              <AlertCircle className=\"w-4 h-4 sm:w-5 sm:h-5 text-red-600 flex-shrink-0\" />\n            )}\n            <span\n              className={`text-xs sm:text-sm font-medium truncate ${\n                msg.messageType === 'success' ? 'text-green-700' : 'text-red-700'\n              }`}\n            >\n              {msg.message}\n            </span>\n          </div>\n          <button\n            onClick={() => onRemoveMessage(msg)}\n            className=\"text-gray-400 hover:text-gray-600 flex-shrink-0 ml-2\"\n          >\n            <XCircle className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n          </button>\n        </div>\n      ))}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAFA;;;AAce,SAAS,gBAAgB,EAAE,QAAQ,EAAE,eAAe,EAAwB;IACzF,IAAI,SAAS,MAAM,KAAK,GAAG,OAAO;IAElC,qBACE,8OAAC;QAAI,WAAU;kBACZ,SAAS,GAAG,CAAC,CAAC,KAAK,oBAClB,8OAAC;gBAEC,WAAW,CAAC,2DAA2D,EACrE,IAAI,WAAW,KAAK,YAChB,wCACA,mCACJ;;kCAEF,8OAAC;wBAAI,WAAU;;4BACZ,IAAI,WAAW,KAAK,0BACnB,8OAAC,qOAAY;gCAAC,WAAU;;;;;qDAExB,8OAAC,mOAAW;gCAAC,WAAU;;;;;;0CAEzB,8OAAC;gCACC,WAAW,CAAC,wCAAwC,EAClD,IAAI,WAAW,KAAK,YAAY,mBAAmB,gBACnD;0CAED,IAAI,OAAO;;;;;;;;;;;;kCAGhB,8OAAC;wBACC,SAAS,IAAM,gBAAgB;wBAC/B,WAAU;kCAEV,cAAA,8OAAC,uNAAO;4BAAC,WAAU;;;;;;;;;;;;eAzBhB;;;;;;;;;;AA+Bf","debugId":null}},
    {"offset": {"line": 705, "column": 0}, "map": {"version":3,"sources":["file:///home/user/webrtc-client/components/deviceCard.tsx"],"sourcesContent":["'use client'\n\nimport { DeviceData } from \"@/hooks/useDeviceInfo\"\nimport { Smartphone, Monitor, Globe2, Wifi, CheckCircle2, Circle } from \"lucide-react\"\n\ninterface DeviceCardProps {\n  device: DeviceData\n  isConnected: boolean\n  isSelected: boolean\n  onSelect: () => void\n  onConnect: () => void\n  onDisconnect: () => void\n}\n\nexport default function DeviceCard({\n  device,\n  isConnected,\n  isSelected,\n  onSelect,\n  onConnect,\n  onDisconnect\n}: DeviceCardProps) {\n  const getDeviceIcon = () => {\n    switch (device.deviceInfo.deviceType) {\n      case 'Mobile':\n        return <Smartphone className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n      case 'PC':\n        return <Monitor className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n      case 'Web':\n        return <Globe2 className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n      default:\n        return <Smartphone className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n    }\n  }\n\n  return (\n    <div\n      className={`p-3 sm:p-4 cursor-pointer transition-colors ${\n        isSelected ? 'bg-blue-50 border-l-4 border-blue-500' : 'hover:bg-gray-50 active:bg-gray-100'\n      }`}\n      onClick={onSelect}\n    >\n      <div className=\"flex items-start justify-between mb-2 sm:mb-3\">\n        <div className=\"flex items-center gap-2 sm:gap-3 flex-1 min-w-0\">\n          <div className={`p-1.5 sm:p-2 rounded-lg flex-shrink-0 ${\n            isConnected ? 'bg-green-100 text-green-600' : 'bg-gray-100 text-gray-600'\n          }`}>\n            {getDeviceIcon()}\n          </div>\n          <div className=\"flex-1 min-w-0\">\n            <h3 className=\"text-xs sm:text-sm font-semibold text-gray-800 truncate\">\n              {device.deviceInfo.name || 'Unknown Device'}\n            </h3>\n            <p className=\"text-xs text-gray-500 truncate\">{device.deviceInfo.deviceType || 'Unknown Type'}</p>\n          </div>\n        </div>\n        {isConnected ? (\n          <CheckCircle2 className=\"w-4 h-4 sm:w-5 sm:h-5 text-green-500 flex-shrink-0\" />\n        ) : (\n          <Circle className=\"w-4 h-4 sm:w-5 sm:h-5 text-gray-300 flex-shrink-0\" />\n        )}\n      </div>\n\n      <div className=\"space-y-1 mb-2 sm:mb-3\">\n        <div className=\"flex items-center gap-2 text-xs\">\n          <Wifi className=\"w-3 h-3 text-gray-400 flex-shrink-0\" />\n          <span className=\"text-gray-600 font-mono truncate\">{device.deviceInfo.deviceIp || 'N/A'}</span>\n        </div>\n        <div className=\"text-xs text-gray-500 truncate pl-5\">\n          {device.deviceInfo.deviceModel || 'Unknown Model'}\n        </div>\n      </div>\n\n      <button\n        onClick={(e) => {\n          e.stopPropagation()\n          isConnected ? onDisconnect() : onConnect()\n        }}\n        className={`w-full py-1.5 sm:py-2 px-3 rounded-lg text-xs font-medium transition-all active:scale-95 ${\n          isConnected\n            ? 'bg-red-100 text-red-700 hover:bg-red-200'\n            : 'bg-blue-100 text-blue-700 hover:bg-blue-200'\n        }`}\n      >\n        {isConnected ? 'Disconnect' : 'Connect'}\n      </button>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAHA;;;AAce,SAAS,WAAW,EACjC,MAAM,EACN,WAAW,EACX,UAAU,EACV,QAAQ,EACR,SAAS,EACT,YAAY,EACI;IAChB,MAAM,gBAAgB;QACpB,OAAQ,OAAO,UAAU,CAAC,UAAU;YAClC,KAAK;gBACH,qBAAO,8OAAC,4NAAU;oBAAC,WAAU;;;;;;YAC/B,KAAK;gBACH,qBAAO,8OAAC,mNAAO;oBAAC,WAAU;;;;;;YAC5B,KAAK;gBACH,qBAAO,8OAAC,+MAAM;oBAAC,WAAU;;;;;;YAC3B;gBACE,qBAAO,8OAAC,4NAAU;oBAAC,WAAU;;;;;;QACjC;IACF;IAEA,qBACE,8OAAC;QACC,WAAW,CAAC,4CAA4C,EACtD,aAAa,0CAA0C,uCACvD;QACF,SAAS;;0BAET,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAI,WAAW,CAAC,sCAAsC,EACrD,cAAc,gCAAgC,6BAC9C;0CACC;;;;;;0CAEH,8OAAC;gCAAI,WAAU;;kDACb,8OAAC;wCAAG,WAAU;kDACX,OAAO,UAAU,CAAC,IAAI,IAAI;;;;;;kDAE7B,8OAAC;wCAAE,WAAU;kDAAkC,OAAO,UAAU,CAAC,UAAU,IAAI;;;;;;;;;;;;;;;;;;oBAGlF,4BACC,8OAAC,qOAAY;wBAAC,WAAU;;;;;6CAExB,8OAAC,gNAAM;wBAAC,WAAU;;;;;;;;;;;;0BAItB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;;0CACb,8OAAC,0MAAI;gCAAC,WAAU;;;;;;0CAChB,8OAAC;gCAAK,WAAU;0CAAoC,OAAO,UAAU,CAAC,QAAQ,IAAI;;;;;;;;;;;;kCAEpF,8OAAC;wBAAI,WAAU;kCACZ,OAAO,UAAU,CAAC,WAAW,IAAI;;;;;;;;;;;;0BAItC,8OAAC;gBACC,SAAS,CAAC;oBACR,EAAE,eAAe;oBACjB,cAAc,iBAAiB;gBACjC;gBACA,WAAW,CAAC,yFAAyF,EACnG,cACI,6CACA,+CACJ;0BAED,cAAc,eAAe;;;;;;;;;;;;AAItC","debugId":null}},
    {"offset": {"line": 888, "column": 0}, "map": {"version":3,"sources":["file:///home/user/webrtc-client/components/deviceList.tsx"],"sourcesContent":["'use client'\n\nimport { DeviceData } from \"@/hooks/useDeviceInfo\"\nimport { Smartphone, Search } from \"lucide-react\"\nimport { useCallback, useState } from \"react\"\nimport DeviceCard from \"./deviceCard\"\nimport { useAppDispatch, useAppSelector } from \"@/hooks/useStore\"\nimport { useWebRTC } from \"@/provider/useWebRTC\"\nimport { removeIncomingConnection, setSelectedDevice } from \"@/store/slices/state.slice\"\n\n\n\nexport default function DeviceList() {\n    const dispatch = useAppDispatch()\n    const { connectedDevices, connectAndCreateOffer, disconnectDevice, } = useWebRTC()\n    const { isConnected, deviceConnected, selectedDevice, devices, isRegistering } = useAppSelector((state) => state.device)\n    const [searchQuery, setSearchQuery] = useState('')\n\n    const filteredDevices = devices.filter(device =>\n        device.deviceInfo.name?.toLowerCase().includes(searchQuery.toLowerCase()) ||\n        device.deviceInfo.deviceIp?.toLowerCase().includes(searchQuery.toLowerCase())\n    )\n\n    const handleConnectDevice = useCallback(async (device: DeviceData) => {\n        const deviceIp = device?.deviceInfo?.deviceIp\n        if (!deviceIp) return\n\n        try {\n            await connectAndCreateOffer(deviceIp)\n            dispatch(setSelectedDevice(device))\n        } catch (error) {\n            console.error('❌ Failed to connect:', error)\n        }\n    }, [connectAndCreateOffer, dispatch])\n\n\n    const handleDisconnectDevice = useCallback((device: DeviceData) => {\n        const deviceIp = device?.deviceInfo?.deviceIp\n        if (!deviceIp) return\n\n        disconnectDevice(deviceIp)\n\n        if (selectedDevice?.deviceInfo?.deviceIp === deviceIp) {\n            dispatch(setSelectedDevice(null))\n        }\n\n        dispatch(removeIncomingConnection(deviceIp))\n    }, [disconnectDevice, selectedDevice, dispatch])\n\n    return (\n        <div className=\"w-full h-full bg-white flex flex-col overflow-hidden\">\n            {/* Search Bar - Fixed at top */}\n            <div className=\"flex-shrink-0 p-3 sm:p-4 border-b border-gray-200\">\n                <div className=\"relative\">\n                    <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\n                    <input\n                        type=\"text\"\n                        placeholder=\"Search devices...\"\n                        value={searchQuery}\n                        onChange={(e) => setSearchQuery(e.target.value)}\n                        className=\"w-full pl-9 sm:pl-10 pr-4 py-2 text-sm border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n                    />\n                </div>\n            </div>\n\n            {/* Device Count - Fixed */}\n            <div className=\"flex-shrink-0 px-3 sm:px-4 py-2 sm:py-3 bg-gray-50 border-b border-gray-200\">\n                <p className=\"text-xs sm:text-sm font-medium text-gray-700\">\n                    {filteredDevices.length} Device{filteredDevices.length !== 1 ? 's' : ''} Available\n                </p>\n            </div>\n\n            {/* Device List - Scrollable */}\n            <div className=\"flex-1 overflow-y-auto overscroll-contain min-h-0\">\n                {filteredDevices.length > 0 ? (\n                    <div className=\"divide-y divide-gray-200\">\n                        {filteredDevices.map((device, index) => (\n                            <DeviceCard\n                                key={index}\n                                device={device}\n                                isConnected={connectedDevices.has(device.deviceInfo.deviceIp)}\n                                isSelected={selectedDevice?.deviceInfo.deviceIp === device.deviceInfo.deviceIp}\n                                onSelect={() => dispatch(setSelectedDevice(device))}\n                                onConnect={() => handleConnectDevice(device)}\n                                onDisconnect={() => handleDisconnectDevice(device)}\n                            />\n                        ))}\n                    </div>\n                ) : isConnected && !isRegistering ? (\n                    <div className=\"flex flex-col items-center justify-center h-full p-4 sm:p-6 text-center\">\n                        <Smartphone className=\"w-10 h-10 sm:w-12 sm:h-12 text-gray-300 mb-3\" />\n                        <h3 className=\"text-sm font-semibold text-gray-700 mb-1\">No Devices Found</h3>\n                        <p className=\"text-xs text-gray-500\">\n                            {searchQuery ? 'No devices match your search' : 'Waiting for devices to connect...'}\n                        </p>\n                    </div>\n                ) : (\n                    <div className=\"flex flex-col items-center justify-center h-full p-4 sm:p-6 text-center\">\n                        <Smartphone className=\"w-10 h-10 sm:w-12 sm:h-12 text-gray-300 mb-3\" />\n                        <p className=\"text-xs sm:text-sm text-gray-500\">Connect to socket to see devices</p>\n                    </div>\n                )}\n            </div>\n        </div>\n    )\n}\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AACA;AACA;AACA;AACA;AACA;AARA;;;;;;;;AAYe,SAAS;IACpB,MAAM,WAAW,IAAA,mIAAc;IAC/B,MAAM,EAAE,gBAAgB,EAAE,qBAAqB,EAAE,gBAAgB,EAAG,GAAG,IAAA,mIAAS;IAChF,MAAM,EAAE,WAAW,EAAE,eAAe,EAAE,cAAc,EAAE,OAAO,EAAE,aAAa,EAAE,GAAG,IAAA,mIAAc,EAAC,CAAC,QAAU,MAAM,MAAM;IACvH,MAAM,CAAC,aAAa,eAAe,GAAG,IAAA,iNAAQ,EAAC;IAE/C,MAAM,kBAAkB,QAAQ,MAAM,CAAC,CAAA,SACnC,OAAO,UAAU,CAAC,IAAI,EAAE,cAAc,SAAS,YAAY,WAAW,OACtE,OAAO,UAAU,CAAC,QAAQ,EAAE,cAAc,SAAS,YAAY,WAAW;IAG9E,MAAM,sBAAsB,IAAA,oNAAW,EAAC,OAAO;QAC3C,MAAM,WAAW,QAAQ,YAAY;QACrC,IAAI,CAAC,UAAU;QAEf,IAAI;YACA,MAAM,sBAAsB;YAC5B,SAAS,IAAA,sJAAiB,EAAC;QAC/B,EAAE,OAAO,OAAO;YACZ,QAAQ,KAAK,CAAC,wBAAwB;QAC1C;IACJ,GAAG;QAAC;QAAuB;KAAS;IAGpC,MAAM,yBAAyB,IAAA,oNAAW,EAAC,CAAC;QACxC,MAAM,WAAW,QAAQ,YAAY;QACrC,IAAI,CAAC,UAAU;QAEf,iBAAiB;QAEjB,IAAI,gBAAgB,YAAY,aAAa,UAAU;YACnD,SAAS,IAAA,sJAAiB,EAAC;QAC/B;QAEA,SAAS,IAAA,6JAAwB,EAAC;IACtC,GAAG;QAAC;QAAkB;QAAgB;KAAS;IAE/C,qBACI,8OAAC;QAAI,WAAU;;0BAEX,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAI,WAAU;;sCACX,8OAAC,gNAAM;4BAAC,WAAU;;;;;;sCAClB,8OAAC;4BACG,MAAK;4BACL,aAAY;4BACZ,OAAO;4BACP,UAAU,CAAC,IAAM,eAAe,EAAE,MAAM,CAAC,KAAK;4BAC9C,WAAU;;;;;;;;;;;;;;;;;0BAMtB,8OAAC;gBAAI,WAAU;0BACX,cAAA,8OAAC;oBAAE,WAAU;;wBACR,gBAAgB,MAAM;wBAAC;wBAAQ,gBAAgB,MAAM,KAAK,IAAI,MAAM;wBAAG;;;;;;;;;;;;0BAKhF,8OAAC;gBAAI,WAAU;0BACV,gBAAgB,MAAM,GAAG,kBACtB,8OAAC;oBAAI,WAAU;8BACV,gBAAgB,GAAG,CAAC,CAAC,QAAQ,sBAC1B,8OAAC,oIAAU;4BAEP,QAAQ;4BACR,aAAa,iBAAiB,GAAG,CAAC,OAAO,UAAU,CAAC,QAAQ;4BAC5D,YAAY,gBAAgB,WAAW,aAAa,OAAO,UAAU,CAAC,QAAQ;4BAC9E,UAAU,IAAM,SAAS,IAAA,sJAAiB,EAAC;4BAC3C,WAAW,IAAM,oBAAoB;4BACrC,cAAc,IAAM,uBAAuB;2BANtC;;;;;;;;;2BAUjB,eAAe,CAAC,8BAChB,8OAAC;oBAAI,WAAU;;sCACX,8OAAC,4NAAU;4BAAC,WAAU;;;;;;sCACtB,8OAAC;4BAAG,WAAU;sCAA2C;;;;;;sCACzD,8OAAC;4BAAE,WAAU;sCACR,cAAc,iCAAiC;;;;;;;;;;;yCAIxD,8OAAC;oBAAI,WAAU;;sCACX,8OAAC,4NAAU;4BAAC,WAAU;;;;;;sCACtB,8OAAC;4BAAE,WAAU;sCAAmC;;;;;;;;;;;;;;;;;;;;;;;AAMxE","debugId":null}},
    {"offset": {"line": 1088, "column": 0}, "map": {"version":3,"sources":["file:///home/user/webrtc-client/components/messageBubble.tsx"],"sourcesContent":["'use client'\n\ninterface Message {\n  id: string\n  text: string\n  sender: 'me' | 'them'\n  timestamp: Date\n}\n\ninterface MessageBubbleProps {\n  message: Message\n}\n\nexport default function MessageBubble({ message }: MessageBubbleProps) {\n  return (\n    <div className={`flex ${message.sender === 'me' ? 'justify-end' : 'justify-start'}`}>\n      <div\n        className={`max-w-[85%] sm:max-w-[75%] md:max-w-[70%] rounded-2xl px-3 sm:px-4 py-2 sm:py-3 ${\n          message.sender === 'me'\n            ? 'bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-br-sm'\n            : 'bg-white border border-gray-200 text-gray-800 rounded-bl-sm shadow-sm'\n        }`}\n      >\n        <p className=\"text-xs sm:text-sm break-words leading-relaxed\">{message.text}</p>\n        <p\n          className={`text-xs mt-1 sm:mt-1.5 ${\n            message.sender === 'me' ? 'text-white/70 text-right' : 'text-gray-500'\n          }`}\n        >\n          {message.timestamp.toLocaleTimeString([], {\n            hour: '2-digit',\n            minute: '2-digit'\n          })}\n        </p>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;;AAae,SAAS,cAAc,EAAE,OAAO,EAAsB;IACnE,qBACE,8OAAC;QAAI,WAAW,CAAC,KAAK,EAAE,QAAQ,MAAM,KAAK,OAAO,gBAAgB,iBAAiB;kBACjF,cAAA,8OAAC;YACC,WAAW,CAAC,gFAAgF,EAC1F,QAAQ,MAAM,KAAK,OACf,0EACA,yEACJ;;8BAEF,8OAAC;oBAAE,WAAU;8BAAkD,QAAQ,IAAI;;;;;;8BAC3E,8OAAC;oBACC,WAAW,CAAC,uBAAuB,EACjC,QAAQ,MAAM,KAAK,OAAO,6BAA6B,iBACvD;8BAED,QAAQ,SAAS,CAAC,kBAAkB,CAAC,EAAE,EAAE;wBACxC,MAAM;wBACN,QAAQ;oBACV;;;;;;;;;;;;;;;;;AAKV","debugId":null}},
    {"offset": {"line": 1136, "column": 0}, "map": {"version":3,"sources":["file:///home/user/webrtc-client/components/chatWindow.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect, useRef } from 'react'\nimport { Send, Smartphone, Monitor, Globe2, MoreVertical, X, ArrowLeft } from 'lucide-react'\nimport MessageBubble from './messageBubble'\n\ninterface Message {\n  id: string\n  text: string\n  sender: 'me' | 'them'\n  timestamp: Date\n}\n\ninterface ChatWindowProps {\n  deviceName: string\n  deviceIp: string\n  deviceType: string\n  dataChannel: RTCDataChannel | null\n  onDisconnect: () => void\n  onBack?: () => void\n}\n\nexport default function ChatWindow({\n  deviceName,\n  deviceIp,\n  deviceType,\n  dataChannel,\n  onDisconnect,\n  onBack\n}: ChatWindowProps) {\n  const [messages, setMessages] = useState<Message[]>([])\n  const [inputMessage, setInputMessage] = useState('')\n  const [showMenu, setShowMenu] = useState(false)\n  const messagesEndRef = useRef<HTMLDivElement>(null)\n  const inputRef = useRef<HTMLInputElement>(null)\n\n  useEffect(() => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' })\n  }, [messages])\n\n  useEffect(() => {\n    if (!dataChannel) return\n\n    const handleMessage = (event: MessageEvent) => {\n      const newMessage: Message = {\n        id: Date.now().toString() + Math.random(),\n        text: event.data,\n        sender: 'them',\n        timestamp: new Date()\n      }\n      setMessages(prev => [...prev, newMessage])\n    }\n\n    dataChannel.addEventListener('message', handleMessage)\n    return () => dataChannel.removeEventListener('message', handleMessage)\n  }, [dataChannel])\n\n  const sendMessage = () => {\n    if (!inputMessage.trim() || !dataChannel || dataChannel.readyState !== 'open') return\n\n    try {\n      dataChannel.send(inputMessage)\n      \n      const newMessage: Message = {\n        id: Date.now().toString() + Math.random(),\n        text: inputMessage,\n        sender: 'me',\n        timestamp: new Date()\n      }\n      \n      setMessages(prev => [...prev, newMessage])\n      setInputMessage('')\n      inputRef.current?.focus()\n    } catch (error) {\n      console.error('Failed to send message:', error)\n    }\n  }\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault()\n      sendMessage()\n    }\n  }\n\n  const getDeviceIcon = () => {\n    const iconClass = \"w-4 h-4 sm:w-5 sm:h-5\"\n    switch (deviceType) {\n      case 'Mobile':\n        return <Smartphone className={iconClass} />\n      case 'PC':\n        return <Monitor className={iconClass} />\n      case 'Web':\n        return <Globe2 className={iconClass} />\n      default:\n        return <Smartphone className={iconClass} />\n    }\n  }\n\n  return (\n    <div className=\"w-full h-full flex flex-col bg-white overflow-hidden\">\n      {/* Chat Header - Fixed at top */}\n      <div className=\"flex-shrink-0 px-3 sm:px-4 md:px-6 py-3 sm:py-4 bg-gradient-to-r from-blue-500 to-purple-600 flex items-center justify-between gap-2\">\n        <div className=\"flex items-center gap-2 sm:gap-3 flex-1 min-w-0\">\n          {/* Back Button - Mobile only */}\n          {onBack && (\n            <button\n              onClick={onBack}\n              className=\"md:hidden p-1.5 sm:p-2 bg-white/20 hover:bg-white/30 rounded-lg transition-colors flex-shrink-0\"\n            >\n              <ArrowLeft className=\"w-4 h-4 sm:w-5 sm:h-5 text-white\" />\n            </button>\n          )}\n          \n          <div className=\"p-1.5 sm:p-2 bg-white/20 rounded-lg text-white flex-shrink-0\">\n            {getDeviceIcon()}\n          </div>\n          <div className=\"flex-1 min-w-0\">\n            <h2 className=\"text-white font-semibold text-sm sm:text-base md:text-lg truncate\">\n              {deviceName}\n            </h2>\n            <p className=\"text-white/80 text-xs sm:text-sm font-mono truncate\">\n              {deviceIp}\n            </p>\n          </div>\n        </div>\n\n        {/* Actions */}\n        <div className=\"relative flex items-center gap-2 flex-shrink-0\">\n          <button\n            onClick={() => setShowMenu(!showMenu)}\n            className=\"p-1.5 sm:p-2 hover:bg-white/20 rounded-lg transition-colors text-white\"\n          >\n            <MoreVertical className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n          </button>\n\n          {/* Dropdown Menu */}\n          {showMenu && (\n            <>\n              <div \n                className=\"fixed inset-0 z-40\" \n                onClick={() => setShowMenu(false)}\n              />\n              <div className=\"absolute right-0 top-full mt-2 w-48 bg-white rounded-lg shadow-xl border border-gray-200 z-50 overflow-hidden\">\n                <button\n                  onClick={() => {\n                    onDisconnect()\n                    setShowMenu(false)\n                  }}\n                  className=\"w-full text-left px-4 py-3 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2\"\n                >\n                  <X className=\"w-4 h-4\" />\n                  <span>Disconnect</span>\n                </button>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n\n      {/* Messages Area - Scrollable, fills available space */}\n      <div className=\"flex-1 overflow-y-auto overscroll-contain bg-gray-50 min-h-0\">\n        <div className=\"p-3 sm:p-4 md:p-6 space-y-3 sm:space-y-4\">\n          {messages.length === 0 ? (\n            <div className=\"flex items-center justify-center min-h-full py-12\">\n              <div className=\"text-center px-4\">\n                <div className=\"w-16 h-16 sm:w-20 sm:h-20 bg-gray-200 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4\">\n                  {getDeviceIcon()}\n                </div>\n                <h3 className=\"text-base sm:text-lg font-semibold text-gray-700 mb-2\">Start Chatting</h3>\n                <p className=\"text-gray-500 text-xs sm:text-sm\">Send a message to begin the conversation</p>\n              </div>\n            </div>\n          ) : (\n            <>\n              {messages.map((msg) => (\n                <MessageBubble key={msg.id} message={msg} />\n              ))}\n              <div ref={messagesEndRef} />\n            </>\n          )}\n        </div>\n      </div>\n\n      {/* Input Area - Fixed at bottom */}\n      <div className=\"flex-shrink-0 px-3 sm:px-4 md:px-6 py-3 sm:py-4 bg-white border-t border-gray-200 safe-bottom\">\n        <div className=\"flex items-center gap-2 sm:gap-3\">\n          <input\n            ref={inputRef}\n            type=\"text\"\n            value={inputMessage}\n            onChange={(e) => setInputMessage(e.target.value)}\n            onKeyPress={handleKeyPress}\n            placeholder=\"Type your message...\"\n            className=\"flex-1 px-3 sm:px-4 py-2 sm:py-3 text-sm border border-gray-300 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent\"\n            disabled={!dataChannel || dataChannel.readyState !== 'open'}\n          />\n          <button\n            onClick={sendMessage}\n            disabled={!inputMessage.trim() || !dataChannel || dataChannel.readyState !== 'open'}\n            className=\"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 disabled:from-gray-300 disabled:to-gray-400 text-white p-2 sm:p-3 rounded-lg sm:rounded-xl transition-all duration-200 transform active:scale-95 disabled:transform-none disabled:cursor-not-allowed shadow-lg flex-shrink-0\"\n          >\n            <Send className=\"w-4 h-4 sm:w-5 sm:h-5\" />\n          </button>\n        </div>\n        {(!dataChannel || dataChannel.readyState !== 'open') && (\n          <p className=\"text-xs text-red-500 mt-2\">Connection not ready for messaging</p>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1527, "column": 0}, "map": {"version":3,"sources":["file:///home/user/webrtc-client/components/ChatDefault.tsx"],"sourcesContent":["import { MessageSquare } from \"lucide-react\";\n\n\n\nexport default function ChatDefault() {\n    return <div className=\"flex-1 w-full bg-gray-50 flex items-center justify-center p-4\">\n        <div className=\"text-center max-w-md\">\n            <MessageSquare className=\"w-12 h-12 sm:w-16 sm:h-16 text-gray-300 mx-auto mb-3 sm:mb-4\" />\n            <h3 className=\"text-base sm:text-xl font-semibold text-gray-700 mb-2\">No Device Selected</h3>\n            <p className=\"text-gray-500 text-xs sm:text-sm px-4\">\n                Select a device from the left panel to start chatting\n            </p>\n        </div>\n    </div>\n}"],"names":[],"mappings":";;;;;AAAA;;;AAIe,SAAS;IACpB,qBAAO,8OAAC;QAAI,WAAU;kBAClB,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC,yOAAa;oBAAC,WAAU;;;;;;8BACzB,8OAAC;oBAAG,WAAU;8BAAwD;;;;;;8BACtE,8OAAC;oBAAE,WAAU;8BAAwC;;;;;;;;;;;;;;;;;AAKjE","debugId":null}},
    {"offset": {"line": 1580, "column": 0}, "map": {"version":3,"sources":["file:///home/user/webrtc-client/components/chatPanel.tsx"],"sourcesContent":["'use client'\n\nimport { DeviceData } from \"@/hooks/useDeviceInfo\"\nimport ChatWindow from \"./chatWindow\"\nimport toast from \"react-hot-toast\"\nimport ChatDefault from \"./ChatDefault\"\n\ninterface ChatPanelProps {\n    selectedDevice: DeviceData | null\n    dataChannel: RTCDataChannel | null\n    onDisconnect: () => void\n    onBack?: () => void\n}\n\nexport default function ChatPanel({ selectedDevice, dataChannel, onDisconnect, onBack }: ChatPanelProps) {\n    if (!selectedDevice) {\n        return <ChatDefault />\n    }\n\n    if (!dataChannel || dataChannel.readyState !== 'open') {\n        toast.success(`Connected to ${selectedDevice.deviceInfo.name}`)\n    }\n\n    return (\n        <div className=\"flex-1 w-full overflow-hidden\">\n            <ChatWindow\n                deviceName={selectedDevice.deviceInfo.name || 'Unknown Device'}\n                deviceIp={selectedDevice.deviceInfo.deviceIp}\n                deviceType={selectedDevice.deviceInfo.deviceType}\n                dataChannel={dataChannel}\n                onDisconnect={onDisconnect}\n                onBack={onBack}\n            />\n        </div>\n    )\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AALA;;;;;AAce,SAAS,UAAU,EAAE,cAAc,EAAE,WAAW,EAAE,YAAY,EAAE,MAAM,EAAkB;IACnG,IAAI,CAAC,gBAAgB;QACjB,qBAAO,8OAAC,qIAAW;;;;;IACvB;IAEA,IAAI,CAAC,eAAe,YAAY,UAAU,KAAK,QAAQ;QACnD,kKAAK,CAAC,OAAO,CAAC,CAAC,aAAa,EAAE,eAAe,UAAU,CAAC,IAAI,EAAE;IAClE;IAEA,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC,oIAAU;YACP,YAAY,eAAe,UAAU,CAAC,IAAI,IAAI;YAC9C,UAAU,eAAe,UAAU,CAAC,QAAQ;YAC5C,YAAY,eAAe,UAAU,CAAC,UAAU;YAChD,aAAa;YACb,cAAc;YACd,QAAQ;;;;;;;;;;;AAIxB","debugId":null}},
    {"offset": {"line": 1628, "column": 0}, "map": {"version":3,"sources":["file:///home/user/webrtc-client/app/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState, useCallback } from \"react\"\nimport { DeviceData, useDeviceInfo } from \"@/hooks/useDeviceInfo\"\nimport { useSocket } from \"@/hooks/useSocket\"\nimport { useWebRTC } from \"@/provider/useWebRTC\"\n\nimport { Loader2 } from \"lucide-react\"\nimport Header from \"@/components/header\"\nimport ConnectionStatus from \"@/components/connectionStatus\"\nimport NotificationBar from \"@/components/notificationBar\"\nimport DeviceList from \"@/components/deviceList\"\nimport ChatPanel from \"@/components/chatPanel\"\n\nexport default function Home() {\n  const { isConnected: isSocketConnected, connect, disconnect, emit, on } = useSocket()\n  const { deviceInfo, loading } = useDeviceInfo()\n  const [deviceConnected, setDeviceConnected] = useState<boolean | null>(null)\n  const [isRegistering, setIsRegistering] = useState(false)\n  const [devices, setDevices] = useState<DeviceData[]>([])\n  const [selectedDevice, setSelectedDevice] = useState<DeviceData | null>(null)\n  const [incomingConnections, setIncomingConnections] = useState<Map<string, { name: string, ip: string }>>(new Map())\n\n  const {\n    connectAndCreateOffer,\n    message,\n    connectedDevices,\n    disconnectDevice,\n    removeMessage,\n    dataChannels\n  } = useWebRTC()\n\n  useEffect(() => {\n    if (!isSocketConnected) return\n\n    const handleIncomingConnection = (data: { fromIp: string, fromName?: string }) => {\n      setIncomingConnections(prev => {\n        const newMap = new Map(prev)\n        newMap.set(data.fromIp, {\n          name: data.fromName || 'Unknown Device',\n          ip: data.fromIp\n        })\n        return newMap\n      })\n    }\n\n    on('incoming-connection', handleIncomingConnection)\n  }, [isSocketConnected, on])\n\n  const allDevices = [\n    ...devices,\n    ...Array.from(incomingConnections.entries()).map(([ip, info]) => ({\n      deviceInfo: {\n        deviceIp: ip,\n        name: info.name,\n        deviceType: 'Web' as const,\n        deviceModel: 'Unknown'\n      },\n      active: true,\n      pairedDevices: []\n    }))\n  ]\n\n  const uniqueDevices = allDevices.reduce((acc, device) => {\n    const existingIndex = acc.findIndex(d => d.deviceInfo.deviceIp === device.deviceInfo.deviceIp)\n    if (existingIndex === -1) {\n      acc.push(device)\n    }\n    return acc\n  }, [] as DeviceData[])\n\n  const checkConnection = useCallback(() => {\n    if (deviceInfo) {\n      emit('check-connected', deviceInfo)\n    }\n  }, [emit, deviceInfo])\n\n  const handleShowDevices = useCallback((data: DeviceData[]) => {\n    setDevices(data)\n  }, [])\n\n  const handleCheckConnected = useCallback((status: boolean) => {\n    setDeviceConnected(status)\n\n    if (!status && !isRegistering) {\n      setIsRegistering(true)\n      emit(\"connect-device\", deviceInfo)\n      setTimeout(() => {\n        checkConnection()\n        setIsRegistering(false)\n      }, 1000)\n    }\n  }, [isRegistering, emit, deviceInfo, checkConnection])\n\n  useEffect(() => {\n    if (!isSocketConnected || !deviceInfo) return\n\n    const unsubscribeCheck = on(\"check-connected\", handleCheckConnected)\n    const unsubscribeDevices = on('show-devices', handleShowDevices)\n\n    checkConnection()\n\n    return () => {\n      unsubscribeCheck()\n      unsubscribeDevices()\n    }\n  }, [isSocketConnected, deviceInfo, on, handleCheckConnected, handleShowDevices, checkConnection])\n\n  const handleToggleConnection = useCallback(() => {\n    if (isSocketConnected) {\n      disconnect()\n      setDeviceConnected(null)\n      setDevices([])\n      setIncomingConnections(new Map())\n      setSelectedDevice(null)\n    } else {\n      connect()\n      setTimeout(() => emit('show-devices'), 1000)\n    }\n  }, [isSocketConnected, disconnect, connect, emit])\n\n  const handleConnectDevice = useCallback(async (device: DeviceData) => {\n    const deviceIp = device?.deviceInfo?.deviceIp\n    if (!deviceIp) return\n    \n    try {\n      await connectAndCreateOffer(deviceIp)\n      setSelectedDevice(device)\n    } catch (error) {\n      console.error('❌ Failed to connect:', error)\n    }\n  }, [connectAndCreateOffer])\n\n  const handleDisconnectDevice = useCallback((device: DeviceData) => {\n    const deviceIp = device?.deviceInfo?.deviceIp\n    if (!deviceIp) return\n\n    disconnectDevice(deviceIp)\n    \n    if (selectedDevice?.deviceInfo?.deviceIp === deviceIp) {\n      setSelectedDevice(null)\n    }\n\n    setIncomingConnections(prev => {\n      const newMap = new Map(prev)\n      newMap.delete(deviceIp)\n      return newMap\n    })\n  }, [disconnectDevice, selectedDevice])\n\n  const handleClearData = () => {\n    emit('clear')\n    setDevices([])\n    setDeviceConnected(null)\n    setIncomingConnections(new Map())\n    setSelectedDevice(null)\n  }\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center\">\n        <div className=\"bg-white p-8 rounded-2xl shadow-lg\">\n          <div className=\"flex items-center space-x-3\">\n            <Loader2 className=\"h-8 w-8 text-blue-600 animate-spin\" />\n            <span className=\"text-gray-700 font-medium\">Loading device info...</span>\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n  return (\n    <div className=\"h-screen w-screen flex flex-col bg-gray-100 overflow-hidden\">\n      {/* Header - Fixed height */}\n      <div className=\"flex-shrink-0\">\n        <Header \n          isSocketConnected={isSocketConnected}\n          onToggleConnection={handleToggleConnection}\n          deviceInfo={deviceInfo}\n        />\n      </div>\n\n      {/* Connection Status Bar - Fixed height */}\n      <div className=\"flex-shrink-0\">\n        <ConnectionStatus \n          isSocketConnected={isSocketConnected}\n          deviceConnected={deviceConnected}\n          connectedDevicesCount={connectedDevices.size}\n          isRegistering={isRegistering}\n          onClearData={handleClearData}\n          hasDevices={uniqueDevices.length > 0}\n        />\n      </div>\n\n      {/* Notification Messages - Fixed height with scroll if needed */}\n      {message.length > 0 && (\n        <div className=\"flex-shrink-0 max-h-32 overflow-y-auto\">\n          <NotificationBar messages={message} onRemoveMessage={removeMessage} />\n        </div>\n      )}\n\n      {/* Main Chat Layout - Fills remaining space */}\n      <div className=\"flex-1 flex overflow-hidden min-h-0\">\n        {/* Left Panel - Device List */}\n        <div className={`${\n          selectedDevice \n            ? 'hidden md:flex md:w-80 lg:w-96' \n            : 'w-full md:w-80 lg:w-96'\n        } flex-shrink-0 border-r border-gray-200 bg-white overflow-hidden`}>\n          <DeviceList \n            devices={uniqueDevices}\n            connectedDevices={connectedDevices}\n            selectedDevice={selectedDevice}\n            onSelectDevice={setSelectedDevice}\n            onConnectDevice={handleConnectDevice}\n            onDisconnectDevice={handleDisconnectDevice}\n            isSocketConnected={isSocketConnected}\n            isRegistering={isRegistering}\n          />\n        </div>\n\n        {/* Right Panel - Chat Area */}\n        <div className={`${\n          selectedDevice \n            ? 'flex w-full' \n            : 'hidden md:flex md:flex-1'\n        } overflow-hidden`}>\n          <ChatPanel \n            selectedDevice={selectedDevice}\n            dataChannel={selectedDevice ? dataChannels.get(selectedDevice.deviceInfo.deviceIp) || null : null}\n            onDisconnect={() => selectedDevice && handleDisconnectDevice(selectedDevice)}\n            onBack={() => setSelectedDevice(null)}\n          />\n        </div>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}