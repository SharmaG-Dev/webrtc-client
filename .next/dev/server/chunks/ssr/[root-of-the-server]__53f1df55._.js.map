{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/geist_a71539c9.module.css [app-rsc] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"className\": \"geist_a71539c9-module__T19VSG__className\",\n  \"variable\": \"geist_a71539c9-module__T19VSG__variable\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 11, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/geist_a71539c9.js"],"sourcesContent":["import cssModule from \"@vercel/turbopack-next/internal/font/google/cssmodule.module.css?{%22path%22:%22layout.tsx%22,%22import%22:%22Geist%22,%22arguments%22:[{%22variable%22:%22--font-geist-sans%22,%22subsets%22:[%22latin%22]}],%22variableName%22:%22geistSans%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'Geist', 'Geist Fallback'\",\n        fontStyle: \"normal\",\n\n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n"],"names":[],"mappings":";;;;AAAA;;AACA,MAAM,WAAW;IACb,WAAW,gKAAS,CAAC,SAAS;IAC9B,OAAO;QACH,YAAY;QACZ,WAAW;IAEf;AACJ;AAEA,IAAI,gKAAS,CAAC,QAAQ,IAAI,MAAM;IAC5B,SAAS,QAAQ,GAAG,gKAAS,CAAC,QAAQ;AAC1C;uCAEe","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/geist_mono_8d43a2aa.module.css [app-rsc] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"className\": \"geist_mono_8d43a2aa-module__8Li5zG__className\",\n  \"variable\": \"geist_mono_8d43a2aa-module__8Li5zG__variable\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA","ignoreList":[0]}},
    {"offset": {"line": 39, "column": 0}, "map": {"version":3,"sources":["turbopack:///[next]/internal/font/google/geist_mono_8d43a2aa.js"],"sourcesContent":["import cssModule from \"@vercel/turbopack-next/internal/font/google/cssmodule.module.css?{%22path%22:%22layout.tsx%22,%22import%22:%22Geist_Mono%22,%22arguments%22:[{%22variable%22:%22--font-geist-mono%22,%22subsets%22:[%22latin%22]}],%22variableName%22:%22geistMono%22}\";\nconst fontData = {\n    className: cssModule.className,\n    style: {\n        fontFamily: \"'Geist Mono', 'Geist Mono Fallback'\",\n        fontStyle: \"normal\",\n\n    },\n};\n\nif (cssModule.variable != null) {\n    fontData.variable = cssModule.variable;\n}\n\nexport default fontData;\n"],"names":[],"mappings":";;;;AAAA;;AACA,MAAM,WAAW;IACb,WAAW,qKAAS,CAAC,SAAS;IAC9B,OAAO;QACH,YAAY;QACZ,WAAW;IAEf;AACJ;AAEA,IAAI,qKAAS,CAAC,QAAQ,IAAI,MAAM;IAC5B,SAAS,QAAQ,GAAG,qKAAS,CAAC,QAAQ;AAC1C;uCAEe","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 60, "column": 0}, "map": {"version":3,"sources":["file:///home/user/webrtc-client/hooks/useSocket.ts/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const useSocket = registerClientReference(\n    function() { throw new Error(\"Attempted to call useSocket() from the server but useSocket is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/hooks/useSocket.ts <module evaluation>\",\n    \"useSocket\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,YAAY,IAAA,wQAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,oDACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///home/user/webrtc-client/hooks/useSocket.ts/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const useSocket = registerClientReference(\n    function() { throw new Error(\"Attempted to call useSocket() from the server but useSocket is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/hooks/useSocket.ts\",\n    \"useSocket\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;AACO,MAAM,YAAY,IAAA,wQAAuB,EAC5C;IAAa,MAAM,IAAI,MAAM;AAAkO,GAC/P,gCACA","ignoreList":[0],"debugId":null}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 96, "column": 0}, "map": {"version":3,"sources":["file:///home/user/webrtc-client/provider/useWebRTC.tsx"],"sourcesContent":["import { useSocket } from \"@/hooks/useSocket\";\nimport { createContext, ReactNode, useCallback, useContext, useEffect, useState } from \"react\";\n\n\ninterface MessageI { messageType: 'success' | 'error', message: string }\n\n\ninterface WebRtcInterface {\n    peerConnections: Map<string, RTCPeerConnection>;\n    connectDevice: (deviceIp: string) => void;\n    createOffer: (deviceIp: string) => Promise<RTCSessionDescriptionInit | void>;\n    createAnswer: (deviceIp: string) => Promise<RTCSessionDescriptionInit | void>;\n    pushMessage: (msg: MessageI) => void;\n    removeMessage: (msg: MessageI) => void;\n    message: MessageI[];\n}\n\nexport const WebRTCContext = createContext<WebRtcInterface | null>(null);\n\nexport const useWebRTC = () => useContext(WebRTCContext)\n\nexport const WebRtcProvider = ({ children }: { children: ReactNode }) => {\n    const { emit, isConnected, on, socket, off } = useSocket()\n    const [message, setMessage] = useState<MessageI[]>([])\n    const [peerConnections, setPeerConnections] = useState<Map<string, RTCPeerConnection>>(new Map());\n\n\n    const connectDevice = useCallback(async (deviceIp: string) => {\n        if (!isConnected) return pushMessage({ message: 'Socket is not connected', messageType: 'error' })\n        if (!deviceIp) return pushMessage({ message: 'Invalid device IP', messageType: 'error' });\n        if (peerConnections.has(deviceIp)) return;\n        const peerConnection = new RTCPeerConnection({\n            iceServers: [\n                { urls: 'stun:stun.l.google.com:19302' },\n                { urls: 'stun:stun1.l.google.com:19302' }\n            ],\n            iceCandidatePoolSize: 10\n        });\n        const newPeerConnections = new Map(peerConnections);\n        newPeerConnections.set(deviceIp, peerConnection);\n        setPeerConnections(newPeerConnections);\n\n        peerConnection.onicecandidate = (event: RTCPeerConnectionIceEvent) => {\n            if (event.candidate) {\n                emit('ice-candidate ', ({\n                    targetIp: deviceIp,\n                    candidate: event.candidate\n                }))\n            }\n        }\n    }, [isConnected]);\n\n    const createOffer = useCallback(async (deviceIp: string) => {\n        if (!isConnected) return pushMessage({ message: 'Socket is not connected', messageType: 'error' });\n        if (!deviceIp) return pushMessage({ message: 'Invalid device IP', messageType: 'error' });\n        const peerConnection = peerConnections.get(deviceIp);\n        if (!peerConnection) return pushMessage({ message: 'Peer connection not found', messageType: 'error' });\n        const offer = await peerConnection.createOffer();\n        await peerConnection.setLocalDescription(offer);\n        emit('offer', ({\n            targetIp: deviceIp,\n            offer: offer\n        }))\n        return offer;\n    }, [isConnected]);\n\n    const createAnswer = async (deviceIp: string) => {\n        if (!isConnected) return pushMessage({ message: 'Socket is not connected', messageType: 'error' });\n        if (!deviceIp) return pushMessage({ message: 'Invalid device IP', messageType: 'error' });\n        const peerConnection = peerConnections.get(deviceIp);\n        if (!peerConnection) return pushMessage({ message: 'Peer connection not found', messageType: 'error' });\n        const answer = await peerConnection.createAnswer();\n        await peerConnection.setLocalDescription(answer);\n        emit('answer', ({\n            targetIp: deviceIp,\n            answer: answer\n        }))\n        return answer;\n    };\n\n    const pushMessage = ({ message, messageType }: MessageI) => {\n        setMessage(prev => [...prev, { message, messageType }]);\n    };\n\n    const removeMessage = ({ message, messageType }: MessageI) => {\n        setMessage(prev => prev.filter(\n            item => !(item.message === message && item.messageType === messageType)\n        ));\n    };\n\n\n\n    useEffect(() => {\n        if (!isConnected) {\n            pushMessage({ message: 'Socket is not connected', messageType: 'error' });\n            return;\n        }\n        const handleOffer = async (data: { from: string; sdp: RTCSessionDescriptionInit }) => {\n            const fromDeviceIp = data.from\n            connectDevice(fromDeviceIp)\n            const peerConnection = peerConnections.get(fromDeviceIp);\n            if (!peerConnection) return pushMessage({ message: 'Peer connection not found', messageType: 'error' });\n            const offer = data.sdp;\n            await peerConnection.setRemoteDescription(new RTCSessionDescription(offer));\n            await createAnswer(fromDeviceIp)\n        };\n\n        const handleAnswer = async (data: { from: string; sdp: RTCSessionDescriptionInit }) => {\n            const fromDeviceIp = data.from\n            const peerConnection = peerConnections.get(fromDeviceIp);\n            if (!peerConnection) return pushMessage({ message: 'Peer connection not found', messageType: 'error' });\n\n            const answer = data.sdp;\n            await peerConnection.setRemoteDescription(new RTCSessionDescription(answer));\n        };\n        const handleIceCandidate = async (data: { from: string; candidate: RTCIceCandidate }) => {\n            const fromDeviceIp = data.from;\n            const peerConnection = peerConnections.get(fromDeviceIp);\n            if (!peerConnection) {\n                pushMessage({ message: 'Peer connection not found for ICE candidate', messageType: 'error' });\n                return;\n            }\n            try {\n                await peerConnection.addIceCandidate(new RTCIceCandidate(data.candidate));\n            } catch (err) {\n                console.error(\"Error adding ICE candidate:\", err);\n            }\n        };\n        on('offer', handleOffer);\n        on('answer', handleAnswer);\n        on('ice-candidate', handleIceCandidate);\n        return () => {\n            off('offer', handleOffer);\n            off('answer', handleAnswer);\n            off('ice-candidate', handleIceCandidate);\n        };\n    }, [isConnected, on, off, pushMessage]);\n\n\n    return (\n        <WebRTCContext.Provider value={{ peerConnections, connectDevice, createAnswer, createOffer, removeMessage, pushMessage, message }}>\n            {children}\n        </WebRTCContext.Provider>\n    );\n};\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 290, "column": 0}, "map": {"version":3,"sources":["file:///home/user/webrtc-client/app/layout.tsx"],"sourcesContent":["import type { Metadata } from \"next\";\nimport { Geist, Geist_Mono } from \"next/font/google\";\nimport \"./globals.css\";\nimport { WebRtcProvider } from \"@/provider/useWebRTC\";\n\nconst geistSans = Geist({\n  variable: \"--font-geist-sans\",\n  subsets: [\"latin\"],\n});\n\nconst geistMono = Geist_Mono({\n  variable: \"--font-geist-mono\",\n  subsets: [\"latin\"],\n});\n\nexport const metadata: Metadata = {\n  title: \"Create Next App\",\n  description: \"Generated by create next app\",\n};\n\nexport default function RootLayout({\n  children,\n}: Readonly<{\n  children: React.ReactNode;\n}>) {\n  return (\n    <html lang=\"en\">\n      <body\n        className={`${geistSans.variable} ${geistMono.variable} antialiased`}\n      >\n         <WebRtcProvider>\n        {children}\n         </WebRtcProvider>\n      </body>\n    </html>\n  );\n}\n"],"names":[],"mappings":";;;;;;;;;AAGA;;;;;;AAYO,MAAM,WAAqB;IAChC,OAAO;IACP,aAAa;AACf;AAEe,SAAS,WAAW,EACjC,QAAQ,EAGR;IACA,qBACE,8OAAC;QAAK,MAAK;kBACT,cAAA,8OAAC;YACC,WAAW,GAAG,oJAAS,CAAC,QAAQ,CAAC,CAAC,EAAE,yJAAS,CAAC,QAAQ,CAAC,YAAY,CAAC;sBAEnE,cAAA,8OAAC,wIAAc;0BACf;;;;;;;;;;;;;;;;AAKT","debugId":null}},
    {"offset": {"line": 336, "column": 0}, "map": {"version":3,"sources":["file:///home/user/webrtc-client/node_modules/next/src/server/route-modules/app-page/vendored/rsc/react-jsx-dev-runtime.ts"],"sourcesContent":["module.exports = (\n  require('../../module.compiled') as typeof import('../../module.compiled')\n).vendored['react-rsc']!.ReactJsxDevRuntime\n"],"names":["module","exports","require","vendored","ReactJsxDevRuntime"],"mappings":"AAAAA,OAAOC,OAAO,GACZC,QAAQ,4HACRC,QAAQ,CAAC,YAAY,CAAEC,kBAAkB","ignoreList":[0],"debugId":null}}]
}